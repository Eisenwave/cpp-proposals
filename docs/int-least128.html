<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>NPxxxxR0: std::int_least128_t</title>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
			border-bottom: 3px solid transparent;
			margin-bottom: -3px;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom-color: #054572;
			border-bottom-color: var(--toclink-underline);
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li a + span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
<style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      vertical-align: top;
    }
    th, td {
      border-left: none;
      border-right: none;
      padding: 0px 10px;
    }
    th {
      text-align: center;
    }

    del { background: #fcc; color: #000; text-decoration: line-through; }
    ins { background: #cfc; color: #000; }
    blockquote .highlight:not(.idl) { background: initial; margin: initial; padding: 0.5em }
    blockquote ul { background: inherit; }
    blockquote code.highlight:not(.idl) { padding: initial; }
    blockquote c-[a] { color: inherit; } /* Keyword.Declaration */
    blockquote c-[b] { color: inherit; } /* Keyword.Type */
    blockquote c-[c] { color: inherit; } /* Comment */
    blockquote c-[d] { color: inherit; } /* Comment.Multiline */
    blockquote c-[e] { color: inherit; } /* Name.Attribute */
    blockquote c-[f] { color: inherit; } /* Name.Tag */
    blockquote c-[g] { color: inherit; } /* Name.Variable */
    blockquote c-[k] { color: inherit; } /* Keyword */
    blockquote c-[l] { color: inherit; } /* Literal */
    blockquote c-[m] { color: inherit; } /* Literal.Number */
    blockquote c-[n] { color: inherit; } /* Name */
    blockquote c-[o] { color: inherit; } /* Operator */
    blockquote c-[p] { color: inherit; } /* Punctuation */
    blockquote c-[s] { color: inherit; } /* Literal.String */
    blockquote c-[t] { color: inherit; } /* Literal.String.Single */
    blockquote c-[u] { color: inherit; } /* Literal.String.Double */
    blockquote c-[cp] { color: inherit; } /* Comment.Preproc */
    blockquote c-[c1] { color: inherit; } /* Comment.Single */
    blockquote c-[cs] { color: inherit; } /* Comment.Special */
    blockquote c-[kc] { color: inherit; } /* Keyword.Constant */
    blockquote c-[kn] { color: inherit; } /* Keyword.Namespace */
    blockquote c-[kp] { color: inherit; } /* Keyword.Pseudo */
    blockquote c-[kr] { color: inherit; } /* Keyword.Reserved */
    blockquote c-[ld] { color: inherit; } /* Literal.Date */
    blockquote c-[nc] { color: inherit; } /* Name.Class */
    blockquote c-[no] { color: inherit; } /* Name.Constant */
    blockquote c-[nd] { color: inherit; } /* Name.Decorator */
    blockquote c-[ni] { color: inherit; } /* Name.Entity */
    blockquote c-[ne] { color: inherit; } /* Name.Exception */
    blockquote c-[nf] { color: inherit; } /* Name.Function */
    blockquote c-[nl] { color: inherit; } /* Name.Label */
    blockquote c-[nn] { color: inherit; } /* Name.Namespace */
    blockquote c-[py] { color: inherit; } /* Name.Property */
    blockquote c-[ow] { color: inherit; } /* Operator.Word */
    blockquote c-[mb] { color: inherit; } /* Literal.Number.Bin */
    blockquote c-[mf] { color: inherit; } /* Literal.Number.Float */
    blockquote c-[mh] { color: inherit; } /* Literal.Number.Hex */
    blockquote c-[mi] { color: inherit; } /* Literal.Number.Integer */
    blockquote c-[mo] { color: inherit; } /* Literal.Number.Oct */
    blockquote c-[sb] { color: inherit; } /* Literal.String.Backtick */
    blockquote c-[sc] { color: inherit; } /* Literal.String.Char */
    blockquote c-[sd] { color: inherit; } /* Literal.String.Doc */
    blockquote c-[se] { color: inherit; } /* Literal.String.Escape */
    blockquote c-[sh] { color: inherit; } /* Literal.String.Heredoc */
    blockquote c-[si] { color: inherit; } /* Literal.String.Interpol */
    blockquote c-[sx] { color: inherit; } /* Literal.String.Other */
    blockquote c-[sr] { color: inherit; } /* Literal.String.Regex */
    blockquote c-[ss] { color: inherit; } /* Literal.String.Symbol */
    blockquote c-[vc] { color: inherit; } /* Name.Variable.Class */
    blockquote c-[vg] { color: inherit; } /* Name.Variable.Global */
    blockquote c-[vi] { color: inherit; } /* Name.Variable.Instance */
    blockquote c-[il] { color: inherit; } /* Literal.Number.Integer.Long */
  </style>
  <meta content="Bikeshed version 4416b18d5, updated Tue Jan 2 15:52:39 2024 -0800" name="generator">
  <link href="https://eisenwave.github.io/cpp-proposals/int-least128.html" rel="canonical">
  <link href="https://isocpp.org/favicon.ico" rel="icon">
  <meta content="29ced16280c22499f95e882cf8575800ed1f5c65" name="revision">
<style>
@media (prefers-color-scheme: dark) {
  c-[mb], c-[mi], c-[mo], c-[mh] {
    color: #d59393 !important;
  }

  blockquote c-[mb], blockquote c-[mi], blockquote c-[mh] {
    color: var(--text) !important;
  }
}

th, td, table {
    border: 1px solid var(--text);
}
th, td {
    border-left-width: 0;
    border-right-width: 0;
}

.indent {
    margin-left: 2em;
}

svg {
    background: none;
    vertical-align: middle;
}

ins {
    background: rgba(136, 255, 93, 0.2);
    color: inherit;
    text-decoration: underlined;
}
del {
    background: rgba(255, 93, 93, 0.2);
    color: inherit;
    text-decoration: strikethrough;
}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">NPxxxxR0<br><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code></h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">New Proposal, <time class="dt-updated" datetime="2024-02-11">2024-02-11</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://eisenwave.github.io/cpp-proposals/int-least128.html">https://eisenwave.github.io/cpp-proposals/int-least128.html</a>
     <dt class="editor">Author:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:janschultke@gmail.com">Jan Schultke</a>
     <dt>Audience:
     <dd>SG18, LWG
     <dt>Project:
     <dd>ISO/IEC 14882 Programming Languages — C++, ISO/IEC JTC1/SC22/WG21
     <dt>Source:
     <dd><a href="https://github.com/Eisenwave/cpp-proposals/blob/master/src/int-least128.bs">eisenwave/cpp-proposals</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This proposal standardizes mandatory 128-bit integers types with strong library support.</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#motivation-and-scope"><span class="secno">2</span> <span class="content">Motivation and scope</span></a>
     <ol class="toc">
      <li>
       <a href="#use-cases"><span class="secno">2.1</span> <span class="content">Use cases</span></a>
       <ol class="toc">
        <li><a href="#cryptography"><span class="secno">2.1.1</span> <span class="content">Cryptography</span></a>
        <li><a href="#random-number-generation"><span class="secno">2.1.2</span> <span class="content">Random number generation</span></a>
        <li><a href="#widening-operations"><span class="secno">2.1.3</span> <span class="content">Widening operations</span></a>
        <li><a href="#multi-precision-operations"><span class="secno">2.1.4</span> <span class="content">Multi-precision operations</span></a>
        <li><a href="#fixed-point-operations"><span class="secno">2.1.5</span> <span class="content">Fixed-point operations</span></a>
        <li><a href="#high-precision-clocks"><span class="secno">2.1.6</span> <span class="content">High-precision time calculations</span></a>
        <li><a href="#floating-point-operations"><span class="secno">2.1.7</span> <span class="content">Floating-point operations</span></a>
        <li><a href="#float-string-conversion"><span class="secno">2.1.8</span> <span class="content">Float-to-string/String-to-float conversion</span></a>
        <li><a href="#financial-systems"><span class="secno">2.1.9</span> <span class="content">Financial systems</span></a>
        <li><a href="#database-systems"><span class="secno">2.1.10</span> <span class="content">Database systems</span></a>
        <li><a href="#networking"><span class="secno">2.1.11</span> <span class="content">Networking</span></a>
       </ol>
      <li>
       <a href="#utilizing-hardware-support"><span class="secno">2.2</span> <span class="content">Utilizing hardware support</span></a>
       <ol class="toc">
        <li><a href="#future-proofing"><span class="secno">2.2.1</span> <span class="content">Future-proofing for direct 128-bit support</span></a>
        <li><a href="#support-through-128-bit-floating-point"><span class="secno">2.2.2</span> <span class="content">Support through 128-bit floating-point</span></a>
       </ol>
     </ol>
    <li>
     <a href="#impact-on-the-standard"><span class="secno">3</span> <span class="content">Impact on the standard</span></a>
     <ol class="toc">
      <li><a href="#c-compatibility"><span class="secno">3.1</span> <span class="content">C Compatibility</span></a>
      <li><a href="#core-impact"><span class="secno">3.2</span> <span class="content">Impact on the core language</span></a>
      <li>
       <a href="#library-impact"><span class="secno">3.3</span> <span class="content">Impact on the library</span></a>
       <ol class="toc">
        <li><a href="#library-impact-language-support"><span class="secno">3.3.1</span> <span class="content">Language support library</span></a>
        <li><a href="#library-impact-metaprogramming"><span class="secno">3.3.2</span> <span class="content">Metaprogramming library</span></a>
        <li><a href="#library-impact-utilities"><span class="secno">3.3.3</span> <span class="content">General utilities library</span></a>
        <li><a href="#library-impact-containers"><span class="secno">3.3.4</span> <span class="content">Containers library</span></a>
        <li><a href="#library-impact-iterators"><span class="secno">3.3.5</span> <span class="content">Iterators library</span></a>
        <li><a href="#library-impact-ranges"><span class="secno">3.3.6</span> <span class="content">Ranges library</span></a>
        <li><a href="#library-impact-algorithms"><span class="secno">3.3.7</span> <span class="content">Algorithms library</span></a>
        <li><a href="#library-impact-numerics"><span class="secno">3.3.8</span> <span class="content">Numerics library</span></a>
        <li><a href="#library-impact-time"><span class="secno">3.3.9</span> <span class="content">Time library</span></a>
        <li><a href="#library-impact-localization"><span class="secno">3.3.10</span> <span class="content">Localization library</span></a>
        <li><a href="#library-impact-io"><span class="secno">3.3.11</span> <span class="content">Input/output library</span></a>
        <li><a href="#concurrency-support-library"><span class="secno">3.3.12</span> <span class="content">Concurrency support library</span></a>
       </ol>
     </ol>
    <li>
     <a href="#implementation-impact"><span class="secno">4</span> <span class="content">Impact on implementations</span></a>
     <ol class="toc">
      <li><a href="#estimated-implementation-effort"><span class="secno">4.1</span> <span class="content">Estimated implementation effort</span></a>
      <li>
       <a href="#iota-view-abi-break"><span class="secno">4.2</span> <span class="content">ABI break for <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ranges</c-><c- o>::</c-><c- n>iota_view</c-><c- o>::</c-><i><c- n>iterator</c-></i><c- o>::</c-><c- n>difference_type</c-></code></span></a>
       <ol class="toc">
        <li><a href="#abi-break-affected-implementations"><span class="secno">4.2.1</span> <span class="content">Affected implementations</span></a>
        <li><a href="#abi-break-cause"><span class="secno">4.2.2</span> <span class="content">Cause of ABI break</span></a>
        <li><a href="#abi-break-possible-solution"><span class="secno">4.2.3</span> <span class="content">Possible solution</span></a>
       </ol>
     </ol>
    <li>
     <a href="#impact-on-existing-code"><span class="secno">5</span> <span class="content">Impact on existing code</span></a>
     <ol class="toc">
      <li><a href="#possible-semantic-changes"><span class="secno">5.1</span> <span class="content">Possible semantic changes</span></a>
      <li><a href="#possible-assumption-violations"><span class="secno">5.2</span> <span class="content">Possible assumption violations</span></a>
     </ol>
    <li>
     <a href="#design-considerations"><span class="secno">6</span> <span class="content">Design considerations</span></a>
     <ol class="toc">
      <li><a href="#standard-integers"><span class="secno">6.1</span> <span class="content">Why no standard integer type?</span></a>
      <li><a href="#exact-width-integers"><span class="secno">6.2</span> <span class="content">Why no mandatory <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int128_t</c-></code> type?</span></a>
      <li><a href="#why-no-256-bit"><span class="secno">6.3</span> <span class="content">Why no <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least256_t</c-></code> type?</span></a>
      <li>
       <a href="#bit-precise-integers"><span class="secno">6.4</span> <span class="content">Why no bit-precise integers?</span></a>
       <ol class="toc">
        <li><a href="#bitint-vs-uint128"><span class="secno">6.4.1</span> <span class="content">Comparison of bit-precise integers and 128-bit integers</span></a>
       </ol>
      <li><a href="#div"><span class="secno">6.5</span> <span class="content">Why no <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>div</c-></code>?</span></a>
     </ol>
    <li>
     <a href="#implementation-experience"><span class="secno">7</span> <span class="content">Implementation experience</span></a>
     <ol class="toc">
      <li>
       <a href="#existing-128-bit-integers"><span class="secno">7.1</span> <span class="content">Existing 128-bit integer types</span></a>
       <ol class="toc">
        <li><a href="#existing-int-128"><span class="secno">7.1.1</span> <span class="content"><code class="highlight"><c- b>__int128</c-></code> (GNU-like)</span></a>
        <li><a href="#existing-int-128-cuda"><span class="secno">7.1.2</span> <span class="content"><code class="highlight"><c- b>__int128</c-></code> (CUDA)</span></a>
        <li><a href="#existing-msvc-128"><span class="secno">7.1.3</span> <span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>_Signed128</c-></code>, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>_Unsigned128</c-></code></span></a>
        <li><a href="#existing-bit-int"><span class="secno">7.1.4</span> <span class="content"><code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- mi>128</c-><c- p>)</c-></code></span></a>
       </ol>
      <li>
       <a href="#library-implementation-experience"><span class="secno">7.2</span> <span class="content">Library implementation experience</span></a>
       <ol class="toc">
        <li><a href="#type-traits-implementation-experience"><span class="secno">7.2.1</span> <span class="content"><code class="highlight"><c- o>&lt;</c-><c- n>type_traits</c-><c- o>></c-></code></span></a>
        <li><a href="#safe-comparison-implementation-experience"><span class="secno">7.2.2</span> <span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>cmp_xxx</c-></code></span></a>
        <li><a href="#charconv-implementation-experience"><span class="secno">7.2.3</span> <span class="content"><code class="highlight"><c- o>&lt;</c-><c- n>charconv</c-><c- o>></c-></code></span></a>
        <li><a href="#format-implementation-experience"><span class="secno">7.2.4</span> <span class="content"><code class="highlight"><c- o>&lt;</c-><c- n>format</c-><c- o>></c-></code></span></a>
        <li><a href="#bit-implementation-experience"><span class="secno">7.2.5</span> <span class="content"><code class="highlight"><c- o>&lt;</c-><c- n>bit</c-><c- o>></c-></code></span></a>
        <li><a href="#gcd-implementation-experience"><span class="secno">7.2.6</span> <span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>gcd</c-></code>, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>lcm</c-></code></span></a>
        <li><a href="#saturating-implementation-experience"><span class="secno">7.2.7</span> <span class="content">Saturating arithmetic</span></a>
        <li><a href="#abs-implementation-experience"><span class="secno">7.2.8</span> <span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>abs</c-></code></span></a>
        <li><a href="#valarray-implementation-experience"><span class="secno">7.2.9</span> <span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>valarray</c-></code></span></a>
        <li><a href="#linalg-implementation-experience"><span class="secno">7.2.10</span> <span class="content"><code class="highlight"><c- o>&lt;</c-><c- n>linalg</c-><c- o>></c-></code></span></a>
        <li><a href="#atomic-implementation-experience"><span class="secno">7.2.11</span> <span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>atomic</c-></code></span></a>
       </ol>
     </ol>
    <li>
     <a href="#proposed-wording"><span class="secno">8</span> <span class="content">Proposed wording</span></a>
     <ol class="toc">
      <li><a href="#proposed-version"><span class="secno">8.1</span> <span class="content">Header <code class="highlight"><c- o>&lt;</c-><c- n>version</c-><c- o>></c-></code></span></a>
      <li><a href="#proposed-cstdint"><span class="secno">8.2</span> <span class="content">Header <code class="highlight"><c- o>&lt;</c-><c- n>cstdint</c-><c- o>></c-></code></span></a>
      <li><a href="#proposed-bitset"><span class="secno">8.3</span> <span class="content">Class template <code class="highlight"><c- n>bitset</c-></code></span></a>
      <li><a href="#proposed-numeric-conversions"><span class="secno">8.4</span> <span class="content">Numeric conversions</span></a>
      <li><a href="#proposed-iota"><span class="secno">8.5</span> <span class="content">Iota view</span></a>
      <li><a href="#proposed-abs"><span class="secno">8.6</span> <span class="content">Absolute values</span></a>
      <li><a href="#proposed-atomic"><span class="secno">8.7</span> <span class="content">Atomic operations</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p>128-bit integers have numerous practical uses, and all major implementations
(MSVC, GCC, LLVM) provide 128-bit integers already.
Among C++ users, there has been great interest in standardizing integers beyond 64 bits for a long time.
With the new wording in the C23 standard for <code class="highlight"><c- b>intmax_t</c-></code> (see <a href="#c-compatibility">§ 3.1 C Compatibility</a>),
one of the last obstacles has been removed.</p>
   <p>The goal of this paper is to obtain a mandatory ≥ 128-bit integer type with no core language changes
and strong support from the C++ standard library.
To accomplish this, the mandatory aliases <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code> and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-></code> are proposed.
Note that any non-malicious implementation would be required to define <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint128_t</c-></code> if that
is possible, so standardizing the minimum-width types is standardizing exact-width types by proxy.</p>
   <p>While the definition of these aliases is trivial, mandating them also implies
library support from <code class="highlight"><c- o>&lt;</c-><c- n>format</c-><c- o>></c-></code>, <code class="highlight"><c- o>&lt;</c-><c- n>bit</c-><c- o>></c-></code>, <code class="highlight"><c- o>&lt;</c-><c- n>cmath</c-><c- o>></c-></code>, <code class="highlight"><c- o>&lt;</c-><c- n>limits</c-><c- o>></c-></code>, and other facilities.
After extensive investigation, it was determined that the <a href="#impact-on-the-standard">§ 3 Impact on the standard</a> and <a href="#implementation-impact">§ 4 Impact on implementations</a> is relatively low.</p>
   <p>Furthermore, the standard library contains a large amount of artificial hurdles
which make it impossible to provide library support for extended integers.
The current standard already permits the implementation to provide additional
extended (fundamental) integer types in addition to the standard integers (<code class="highlight"><c- b>int</c-></code>, <code class="highlight"><c- b>long</c-></code>, etc.).
However, even if there exists an extended 128-bit integer, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>to_string</c-><c- p>(</c-><c- n>std</c-><c- o>::</c-><c- n>int128_t</c-><c- p>)</c-></code> cannot exist, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>bitset</c-></code> cannot be constructed from it (without truncating to <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></code>), <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>abs</c-><c- p>(</c-><c- n>std</c-><c- o>::</c-><c- n>int128_t</c-><c- p>)</c-></code> cannot exist,
among other issues.</p>
   <h2 class="heading settled" data-level="2" id="motivation-and-scope"><span class="secno">2. </span><span class="content">Motivation and scope</span><a class="self-link" href="#motivation-and-scope"></a></h2>
   <p>There are two essential reasons for standardizing a 128-bit integer type:</p>
   <ol>
    <li data-md>
     <p>128-bit integers are extremely useful in a variety of domains.</p>
    <li data-md>
     <p>128-bit integers are already implemented in multiple compilers, and quasi-mandated by the C23
standard through the <code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- mi>128</c-><c- p>)</c-></code> and <code class="highlight"><c- b>unsigned</c-> <c- b>_BitInt</c-><c- p>(</c-><c- mi>128</c-><c- p>)</c-></code> types.
That is, if the implementation defines <code class="highlight"><c- n>BITINT_MAXWIDTH</c-> <c- o>>=</c-> <c- mi>128</c-></code>.
See <a href="#existing-128-bit-integers">§ 7.1 Existing 128-bit integer types</a> for more.</p>
   </ol>
   <h3 class="heading settled" data-level="2.1" id="use-cases"><span class="secno">2.1. </span><span class="content">Use cases</span><a class="self-link" href="#use-cases"></a></h3>
   <p>A GitHub code search for <a href="/int128|int_128/ language:c++"><code class="highlight"><c- o>/</c-><c- n>int128</c-><c- o>|</c-><c- n>int_128</c-><c- o>/</c-> <c- n>language</c-><c- o>:</c-><c- n>c</c-><c- o>++</c-></code></a> yields 150K files,
and a language-agnostic search for <a href="https://github.com/search?q=%2Fint128%7Cint_128%2F&amp;type=code"><code class="highlight"><c- o>/</c-><c- n>int128</c-><c- o>|</c-><c- n>int128</c-><c- o>/</c-></code></a> yields more than a million.</p>
   <p>While it is impossible to discuss every one of these,
I will introduce a few use cases of 128-bit integers.</p>
   <h4 class="heading settled" data-level="2.1.1" id="cryptography"><span class="secno">2.1.1. </span><span class="content">Cryptography</span><a class="self-link" href="#cryptography"></a></h4>
   <p>128-bit integers are commonly used in many cryptographic algorithms:</p>
   <ul>
    <li data-md>
     <p>Most notably, AES-128 uses a 128-bit key size.
AES variants with wider key sizes still use a block size of 128 bits.</p>
    <li data-md>
     <p>Various other block ciphers such as Twofish and Serpent also have key and/or block sizes of 128 bits.</p>
    <li data-md>
     <p>MD5 hashes produce 128-bit output.</p>
    <li data-md>
     <p>SHA-2 and SHA-3 produce outputs beyond 128-bit, but outputs can be truncated to 128-bit,
or represented as a pair/array of 128-bit integers.</p>
   </ul>
   <h4 class="heading settled" data-level="2.1.2" id="random-number-generation"><span class="secno">2.1.2. </span><span class="content">Random number generation</span><a class="self-link" href="#random-number-generation"></a></h4>
   <p>Some random number generators produce 128-bit numbers.</p>
   <p>For example, the <a href="https://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator">CSRPNG</a> (cryptographically secure pseudo-random number generator) <a href="https://en.wikipedia.org/wiki/Fortuna_(PRNG)">Fortuna</a> uses a block cipher to produce random numbers.
When a 128-bit block cipher is used, the output is naturally 128-bit as well.
Fortuna is used in the implementation of <code class="highlight"><c- o>/</c-><c- n>dev</c-><c- o>/</c-><c- n>random</c-></code> in FreeBSD 11, and in AppleOSes since 2020.</p>
   <p>Some PRNGs use a 128-bit state, such as <a href="https://en.wikipedia.org/wiki/Xorshift">xorshift128</a>.</p>
   <div class="example" id="example-437c4029">
    <a class="self-link" href="#example-437c4029"></a> The following code is based on <a data-link-type="biblio" href="#biblio-marsaglia" title="Xorshift RNGs">[Marsaglia]</a>, with some changes. 
<pre class="language-cpp highlight"><c- n>std</c-><c- o>::</c-><c- b>uint32_t</c-> <c- nf>xor128</c-><c- p>(</c-><c- n>std</c-><c- o>::</c-><c- b>uint32_t</c-> <c- n>x</c-><c- p>[</c-><c- mi>4</c-><c- p>])</c-> <c- p>{</c->
    <c- n>std</c-><c- o>::</c-><c- b>uint32_t</c-> <c- n>t</c-> <c- o>=</c-> <c- n>x</c-><c- p>[</c-><c- mi>3</c-><c- p>];</c->
    <c- n>t</c-> <c- o>^=</c-> <c- n>t</c-> <c- o>&lt;&lt;</c-> <c- mi>11</c-><c- p>;</c->
    <c- n>t</c-> <c- o>^=</c-> <c- n>t</c-> <c- o>>></c-> <c- mi>8</c-><c- p>;</c->

    <c- n>x</c-><c- p>[</c-><c- mi>3</c-><c- p>]</c-> <c- o>=</c-> <c- n>x</c-><c- p>[</c-><c- mi>2</c-><c- p>];</c-> <c- n>x</c-><c- p>[</c-><c- mi>2</c-><c- p>]</c-> <c- o>=</c-> <c- n>x</c-><c- p>[</c-><c- mi>1</c-><c- p>];</c-> <c- n>x</c-><c- p>[</c-><c- mi>1</c-><c- p>]</c-> <c- o>=</c-> <c- n>x</c-><c- p>[</c-><c- mi>0</c-><c- p>];</c->

    <c- n>x</c-><c- p>[</c-><c- mi>0</c-><c- p>]</c-> <c- o>^=</c-> <c- n>t</c-> <c- o>^</c-> <c- p>(</c-><c- n>x</c-><c- p>[</c-><c- mi>0</c-><c- p>]</c-> <c- o>>></c-> <c- mi>19</c-><c- p>);</c->
    <c- k>return</c-> <c- n>x</c-><c- p>[</c-><c- mi>0</c-><c- p>];</c->
<c- p>}</c->
</pre>
    <p>This can be expressed more elegantly using 128-bit integers:</p>
<pre class="language-cpp highlight"><c- n>std</c-><c- o>::</c-><c- b>uint32_t</c-> <c- nf>xor128</c-><c- p>(</c-><c- n>std</c-><c- o>::</c-><c- n>uint128_t</c-><c- o>&amp;</c-> <c- n>x</c-><c- p>)</c-> <c- p>{</c->
    <c- n>std</c-><c- o>::</c-><c- b>uint32_t</c-> <c- n>t</c-> <c- o>=</c-> <c- n>x</c-> <c- o>>></c-> <c- mi>96</c-><c- p>;</c->
    <c- n>t</c-> <c- o>^=</c-> <c- n>t</c-> <c- o>&lt;&lt;</c-> <c- mi>11</c-><c- p>;</c->
    <c- n>t</c-> <c- o>^=</c-> <c- n>t</c-> <c- o>>></c-> <c- mi>8</c-><c- p>;</c->

    <c- n>x</c-> <c- o>=</c-> <c- p>(</c-><c- n>x</c-> <c- o>&lt;&lt;</c-> <c- mi>32</c-><c- p>)</c-> <c- o>|</c-> <c- p>(</c-><c- n>t</c-> <c- o>^</c-> <c- p>(</c-><c- n>std</c-><c- o>::</c-><c- b>uint32_t</c-><c- p>(</c-><c- n>x</c-><c- p>)</c-> <c- o>^</c-> <c- p>(</c-><c- n>std</c-><c- o>::</c-><c- b>uint32_t</c-><c- p>(</c-><c- n>x</c-><c- p>)</c-> <c- o>>></c-> <c- mi>19</c-><c- p>)));</c->
    <c- k>return</c-> <c- n>x</c-><c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <p>Generally speaking, there is a large amount of code that effectively performs
128-bit operations, but operates on sequences of 32-bit or 64-bit integers.
In the above example, it is not immediately obvious that the <code class="highlight"><c- n>x</c-><c- p>[</c-><c- mi>3</c-><c- p>]</c-> <c- o>=</c-> <c- n>x</c-><c- p>[</c-><c- mi>2</c-><c- p>];</c-> <c- p>...</c-></code> line
is effectively performing a 32-bit shift, whereas <code class="highlight"><c- n>x</c-> <c- o>&lt;&lt;</c-> <c- mi>32</c-></code> is self-documenting.</p>
   <h4 class="heading settled" data-level="2.1.3" id="widening-operations"><span class="secno">2.1.3. </span><span class="content">Widening operations</span><a class="self-link" href="#widening-operations"></a></h4>
   <p>128-bit arithmetic can produce optimal code for mixed 64/128-bit operations,
for which there is already widespread hardware support.
For example, this hardware support includes:</p>
   <ul>
    <li data-md>
     <p>The x86_64 <code class="highlight"><c- n>mul</c-></code> (unsigned multiply) instruction stores the result of a 64-to-128-bit multiplication
in the register pair <code class="highlight"><c- nl>rdx</c-><c- p>:</c-><c- n>rax</c-></code>.</p>
    <li data-md>
     <p>The x86_64 <code class="highlight"><c- n>div</c-></code> (unsigned divide) instruction stores quotient and remainder of a 128-to-64-bit division
in <code class="highlight"><c- n>rax</c-></code> and <code class="highlight"><c- n>rdx</c-></code> respectively.</p>
    <li data-md>
     <p>The RISC-V <code class="highlight"><c- n>clmul</c-></code> and <code class="highlight"><c- n>clmulh</c-></code> instructions to compute the low and high part of a
carry-less multiplication.
In fact, x86, ARM, and RISC-V all provide a way to compute a <a href="https://en.wikipedia.org/wiki/Carry-less_product">carry-less 128-bit product</a>.</p>
   </ul>
   <p>Some operating systems also provide 64/128-bit operations.
For example, the Windows API provides a <code class="highlight"><c- n>Multiply128</c-></code> function.</p>
   <p>A more general solution was proposed by <a data-link-type="biblio" href="#biblio-p3018r0" title="Low-Level Integer Arithmetic">[P3018R0]</a>, which supports widening multiplication through a <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>mul_wide</c-></code> function, which yields the low and high part of the multiplication as a pair
of integers.
Such utilities would be useful in generic code where integers of any width can be used,
but it’s obviously more ergonomic to cast operands to <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int128_t</c-></code> prior to an
operation.</p>
   <h4 class="heading settled" data-level="2.1.4" id="multi-precision-operations"><span class="secno">2.1.4. </span><span class="content">Multi-precision operations</span><a class="self-link" href="#multi-precision-operations"></a></h4>
   <p>For various applications (cryptography, numerics, etc.) arithmetic with large widths is required.
For example, the RSA (Rivest–Shamir–Adleman) cryptosystem typically uses key sizes of 2048 or 4096.
"Scripting languages" also commonly use an infinite-precision integer type.
For example, the <code class="highlight"><c- b>int</c-></code> type in Python has no size limit.</p>
   <p>Multi-precision operations are implemented through multiple widening operations (see above).
For example, to implement N-bit multiplication,
the number can be split into a sequence of 64-bit "digits",
and long multiplication is performed.
Since this involves a carry between digits, a 64-to-128-bit widening operation is required.</p>
   <h4 class="heading settled" data-level="2.1.5" id="fixed-point-operations"><span class="secno">2.1.5. </span><span class="content">Fixed-point operations</span><a class="self-link" href="#fixed-point-operations"></a></h4>
   <p>While 64-bit integers are sufficient for many calculations, the amount of available bits
is reduced when the 64 bits are divided into an integral and fractional part.
This may cause issues in <a href="#financial-systems">§ 2.1.9 Financial systems</a>.</p>
   <p>Furthermore, fixed-point arithmetic with a double-wide operand can emulate integer division,
which is a relatively expensive operation, even with hardware support.</p>
   <div class="example" id="example-5318c4f4">
    <a class="self-link" href="#example-5318c4f4"></a> 128-bit integers allow us to implement a division by three without integer division: 
<pre class="language-cpp highlight"><c- n>std</c-><c- o>::</c-><c- b>uint64_t</c-> <c- nf>div3</c-><c- p>(</c-><c- n>std</c-><c- o>::</c-><c- b>uint64_t</c-> <c- n>x</c-><c- p>)</c-> <c- p>{</c->
    <c- c1>// 1 / 3 as a Q63.65 fixed-point number:</c->
    <c- k>constexpr</c-> <c- n>std</c-><c- o>::</c-><c- n>uint_fast128_t</c-> <c- n>reciprocal_3</c-> <c- o>=</c-> <c- mh>0xAAAA'AAAA'AAAA'AAAB</c-><c- p>;</c->
    <c- k>return</c-> <c- p>(</c-><c- n>x</c-> <c- o>*</c-> <c- n>reciprocal_3</c-><c- p>)</c-> <c- o>>></c-> <c- mi>65</c-><c- p>;</c-> <c- c1>// equivalent to return x / 3;</c->
<c- p>}</c->
</pre>
   </div>
   <p>While modern compilers perform this <a href="https://en.wikipedia.org/wiki/Strength_reduction">strength reduction optimization</a> for constant divisors already, they don’t perform it for frequently reused non-constant divisors.</p>
   <p>For such divisors, it can make sense to pre-compute the reciprocal and shift constants
and use them many times for faster division.
Among other libraries, <a data-link-type="biblio" href="#biblio-libdivide" title="libdivide">[libdivide]</a> uses this technique
(using a pair of 64-bit integers, which effectively forms a 128-bit integer).</p>
   <h4 class="heading settled" data-level="2.1.6" id="high-precision-clocks"><span class="secno">2.1.6. </span><span class="content">High-precision time calculations</span><a class="self-link" href="#high-precision-clocks"></a></h4>
   <p>64-bit integers are somewhat insufficient for high-precision clocks, if large time spans should
also be covered.
When counting nanoseconds, a maximum value of 2<sup>63</sup>-1 can only represent approximately
9 billion seconds, or 7020 years.
This is enough to keep time for the forseeable future, but is insufficient
for representing historical data long in the past.</p>
   <p>This makes 64-bit integers insufficient for some time calculations, where 128-bit integers
would suffice.
Alternatively, 64-bit floating-point numbers can provide a reasonable trade-off
between resolution and range.</p>
   <p><code class="highlight"><c- n>timespec</c-></code> is effectively a 128-bit type in POSIX (<code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>timespec</c-></code> in C++), since both the
seconds and nanoseconds part of the class are 64-bit integers.</p>
   <h4 class="heading settled" data-level="2.1.7" id="floating-point-operations"><span class="secno">2.1.7. </span><span class="content">Floating-point operations</span><a class="self-link" href="#floating-point-operations"></a></h4>
   <p>The implementation of IEEE 754/IEC-559 floating-point operations often involves examining the
bit-representation of the floating-point number through an unsigned integer.</p>
   <p>The C++ standard provides <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>float128_t</c-></code>, but no matching 128-bit integer type,
which makes this more difficult.</p>
   <div class="example" id="example-dc655f2e">
    <a class="self-link" href="#example-dc655f2e"></a> Using 128-bit integers, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>signbit</c-></code> can be implemented as follows: 
<pre class="language-cpp highlight"><c- b>bool</c-> <c- nf>signbit</c-><c- p>(</c-><c- n>float128_t</c-> <c- n>x</c-><c- p>)</c-> <c- p>{</c->
    <c- k>return</c-> <c- n>bit_cast</c-><c- o>&lt;</c-><c- n>uint128_t</c-><c- o>></c-><c- p>(</c-><c- n>x</c-><c- p>)</c-> <c- o>>></c-> <c- mi>127</c-><c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <h4 class="heading settled" data-level="2.1.8" id="float-string-conversion"><span class="secno">2.1.8. </span><span class="content">Float-to-string/String-to-float conversion</span><a class="self-link" href="#float-string-conversion"></a></h4>
   <p>The <a data-link-type="biblio" href="#biblio-dragonbox" title="Dragonbox: A New FLoating-Point Binary-to-Decimal Conversion Algorithm">[Dragonbox]</a> binary-to-decimal conversion algorithm requires an integer type
that is twice the width of the converted floating-point number.
To convert a floating-point number in <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format">binary64</a> format, a 128-bit integer type is used.</p>
   <p>Similarly, <a data-link-type="biblio" href="#biblio-fast_float" title="fast_float number parsing library: 4x faster than strtod">[fast_float]</a> uses 128-bit numbers as part of decimal-to-binary conversions.
This library provides an efficient <code class="highlight"><c- n>from_chars</c-></code> implementation.</p>
   <h4 class="heading settled" data-level="2.1.9" id="financial-systems"><span class="secno">2.1.9. </span><span class="content">Financial systems</span><a class="self-link" href="#financial-systems"></a></h4>
   <p>128-bit integers can be used to represent huge monetary values with high accuracy.
When representing cents of a dollar as a 64-bit integer,
a monetary value of up to 184.5 quadrillion dollars can be represented.
However, this value shrinks dramatically when using smaller fractions.</p>
   <p>Since 2005, stock markets are legally required to accept
price increments of $0.0001 when the price of a stock is ≤ $1 (see <a data-link-type="biblio" href="#biblio-sec" title="Division of Market Regulation: Responses to Frequently Asked Questions Concerning Rule 612 (Minimum Pricing Increment) of Regulation NMS">[SEC]</a>).
At this precision, 1.84 quadrillion dollars can be represented.
Using a uniform precision of ten thousandths would prove problematic when
applied to other currencies such as Yen, which forces the complexity of variable precision
on the developer.</p>
   <p>Even more extremely, the smallest fraction of a Bitcoin is a Satoshi, which is a
hundred millionth of a Bitcoin.
2<sup>63</sup> Satoshis equal approximately 92 billion BTC.
In 2009, a Bitcoin was worth less than a penny, so a monetary value of only
920 million USD could be represented in Satoshis.</p>
   <p>In conclusion, simply storing the smallest relevant fraction as a 64-bit integer is
often insufficient, especially when this fraction is very small and exponential
price changes are involved.
Rounding is not always an acceptable solution in financial applications.</p>
   <p><a data-link-type="biblio" href="#biblio-nvidia" title="Implementing High-Precision Decimal Arithmetic with CUDA int128">[NVIDIA]</a> mentions fixed-point accounting calculations as a possible use case of the <code class="highlight"><c- b>__int128</c-></code> type, which is a preview feature of NVIDIA CUDA 11.5.</p>
   <p><a data-link-type="biblio" href="#biblio-tigerbeetle" title="64-Bit Bank Balances ‘Ought to be Enough for Anybody’?">[TigerBeetle]</a> discusses why 64-bit integers have been retired in favor of 128-bit
integers to store financial amounts and balances in the TigerBeetle financial
accounting database.
The aforementioned sub-penny requirement is part of the motivation.</p>
   <h4 class="heading settled" data-level="2.1.10" id="database-systems"><span class="secno">2.1.10. </span><span class="content">Database systems</span><a class="self-link" href="#database-systems"></a></h4>
   <p>A 128-bit integer can be used to represent a <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a> (Universally Unique Identifier).
While 64-bit integers are often sufficient as a unique identifier, it is quite likely that two
identical identifiers are chosen by a random number generator over a long period of time,
especially considering the <a href="https://en.wikipedia.org/wiki/Birthday_problem">Birthday Problem</a>.
Therefore, at least 128 bits are typically used for such applications.</p>
   <div class="example" id="example-7d167d1f">
    <a class="self-link" href="#example-7d167d1f"></a> The following code generates a UUIDv4, represented as an unsigned 128-bit integer. 
<pre class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint128_t</c-> <c- nf>random_uuid_v4</c-><c- p>()</c-> <c- p>{</c->
    <c- k>return</c-> <c- n>std</c-><c- o>::</c-><c- n>experimental</c-><c- o>::</c-><c- n>randint</c-><c- o>&lt;</c-><c- n>std</c-><c- o>::</c-><c- n>uint128_t</c-><c- o>></c-><c- p>(</c-><c- mi>0</c-><c- p>,</c-> <c- mi>-1</c-><c- p>)</c->
         <c- o>&amp;</c-> <c- mh>0x</c-><c- mh><c- mh>ffff</c-></c-><c- mh>'</c-><c- mh><c- mh>ffff</c-></c-><c- mh>'</c-><c- mh><c- mh>ffff</c-></c-><c- mh>'</c-><c- mh><c- mh>003f</c-></c-><c- mh>'</c-><c- mh><c- mh>ff0f</c-></c-><c- mh>'</c-><c- mh><c- mh>ffff</c-></c-><c- mh>'</c-><c- mh><c- mh>ffff</c-></c-><c- mh>'</c-><c- mh><c- mh>ffff</c-></c->  <c- c1>// clear version and variant</c->
         <c- o>|</c-> <c- mh>0x</c-><c- mh><c- mh>0000</c-></c-><c- mh>'</c-><c- mh><c- mh>0000</c-></c-><c- mh>'</c-><c- mh><c- mh>0000</c-></c-><c- mh>'</c-><c- mh><c- mh>0080</c-></c-><c- mh>'</c-><c- mh><c- mh>0040</c-></c-><c- mh>'</c-><c- mh><c- mh>0000</c-></c-><c- mh>'</c-><c- mh><c- mh>0000</c-></c-><c- mh>'</c-><c- mh><c- mh>0000</c-></c-><c- p>;</c-> <c- c1>// set to version 4 and IETF variant</c->
<c- p>}</c->
</pre>
   </div>
   <h4 class="heading settled" data-level="2.1.11" id="networking"><span class="secno">2.1.11. </span><span class="content">Networking</span><a class="self-link" href="#networking"></a></h4>
   <p>IPv6 addresses can be represented as a 128-bit integer.
This may be a convenient representation because bitwise operations for masking and accessing
individual bits or bit groups may be used.
Implementing these is much easier using a 128-bit integers compared to multi-precision operations
using two 64-bit integers.</p>
   <div class="example" id="example-a484ba65">
    <a class="self-link" href="#example-a484ba65"></a> An IPv6 address in link-local address format can be identified as follows: 
<pre class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint128_t</c-> <c- n>ipv6</c-> <c- o>=</c-> <c- d>/* ... */</c-><c- p>;</c->
<c- k>constexpr</c-> <c- k>auto</c-> <c- n>mask10</c-> <c- o>=</c-> <c- mh>0x3ff</c-><c- p>;</c->
<c- k>if</c-> <c- p>((</c-><c- n>ipv6</c-> <c- o>&amp;</c-> <c- n>mask10</c-><c- p>)</c-> <c- o>!=</c-> <c- mb>0b1111111010</c-><c- p>)</c-> <c- d>/* wrong prefix */</c-><c- p>;</c->

<c- k>constexpr</c-> <c- k>auto</c-> <c- n>mask54</c-> <c- o>=</c-> <c- p>(</c-><c- n>std</c-><c- o>::</c-><c- b>uint64_t</c-><c- p>(</c-><c- mi>1</c-><c- p>)</c-> <c- o>&lt;&lt;</c-> <c- mi>54</c-><c- p>)</c-> <c- o>-</c-> <c- mi>1</c-><c- p>;</c->
<c- k>if</c-> <c- p>((</c-><c- n>ipv6</c-> <c- o>>></c-> <c- mi>10</c-> <c- o>&amp;</c-> <c- n>mask54</c-><c- p>)</c-> <c- o>!=</c-> <c- mi>0</c-><c- p>)</c-> <c- d>/* expected 54 zeros */</c-><c- p>;</c->

<c- k>constexpr</c-> <c- k>auto</c-> <c- n>mask64</c-> <c- o>=</c-> <c- n>std</c-><c- o>::</c-><c- b>uint64_t</c-><c- p>(</c-><c- mi>-1</c-><c- p>);</c->
<c- n>interface_identifier</c-> <c- o>=</c-> <c- p>(</c-><c- n>data</c-> <c- o>>></c-> <c- mi>64</c-><c- p>)</c-> <c- o>&amp;</c-> <c- n>mask64</c-><c- p>;</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="2.2" id="utilizing-hardware-support"><span class="secno">2.2. </span><span class="content">Utilizing hardware support</span><a class="self-link" href="#utilizing-hardware-support"></a></h3>
   <h4 class="heading settled" data-level="2.2.1" id="future-proofing"><span class="secno">2.2.1. </span><span class="content">Future-proofing for direct 128-bit support</span><a class="self-link" href="#future-proofing"></a></h4>
   <p>Hardware support for 64/128-bit mixed operations is already common
in x86_64 and ARM.
It is also conceivable that hardware support for 128-bit integer arithmetic will be expanded
in the forseeable future.
The RISC-V instruction set architecture has a 128-bit variant named RV128I,
described in <a data-link-type="biblio" href="#biblio-risc-v" title="The RISC-V Instruction Set Manual - Volume I: Unprivileged ISA">[RISC-V]</a>, although no implementation of it exists yet.</p>
   <p>When hardware support for 128-bit operations is available, but the source code emulates these
in software, the burden of fusing multiple 64-bit operations into a single 128-bit operation
is put on the optimizer.</p>
   <p>For example, multiple 64-bit multiplications may be fused into a single 64-to-128-bit
multiplication.
x86_64 already provides hardware support in this case (see <a href="#widening-operations">§ 2.1.3 Widening operations</a>), however,
the language provides no way of expressing such an operation through integer types.</p>
   <h4 class="heading settled" data-level="2.2.2" id="support-through-128-bit-floating-point"><span class="secno">2.2.2. </span><span class="content">Support through 128-bit floating-point</span><a class="self-link" href="#support-through-128-bit-floating-point"></a></h4>
   <p>On hardware which provides native support for <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>float128_t</c-></code> (see <a data-link-type="biblio" href="#biblio-wikipedia" title="Quadruple-precision floating-point format - Hardware support">[Wikipedia]</a> for a list), integer division up to 113
bits can be implemented in terms of floating-point division, and this is possibly the fastest routine.
For such instruction selection, the 113-bit division must be recognized by the compiler.
It is very unlikely that the hundreds of operations
comprising a software integer division could be recognized as such.</p>
   <p>128 bits is obviously more than 113 bits, so not every operation can be performed this way.
However, modern optimizing compilers keep track of range constraints of values.</p>
   <div class="example" id="example-d554b1c2">
    <a class="self-link" href="#example-d554b1c2"></a> The optimizer may make the following decisions when performing 128-bit integer division: 
    <ul>
     <li data-md>
      <p>If the divisor is constant, perform strength reduction (<a href="#fixed-point-operations">§ 2.1.5 Fixed-point operations</a>), making the division
a shift and multiplication.</p>
     <li data-md>
      <p>If the divisor is a power of two, count the trailing zeros and perform a right-shift.</p>
     <li data-md>
      <p>Otherwise, if both operands are 2<sup>64</sup>-1 or less, perform 64-bit integer division.</p>
     <li data-md>
      <p>Otherwise, if one of the operands is 2<sup>64</sup>-1 or less, perform 128-to-64-bit (<a href="#widening-operations">§ 2.1.3 Widening operations</a>) division.</p>
     <li data-md>
      <p>Otherwise, if both operands are 2<sup>113</sup>-1 or less,
and if there is hardware support for 128-bit floating point numbers, perform floating-point division.</p>
     <li data-md>
      <p>[...]</p>
     <li data-md>
      <p>Otherwise, use a software implementation of 128-bit division.</p>
    </ul>
   </div>
   <p>ISO C++ does not offer a mechanism through which implementations can be chosen based on
optimizer knowledge.
It also does not offer a mechanism through which it can be detected that a divisor is known to the
optimizer.
What is easy for the implementation is difficult for the user,
which makes it very compelling to provide a built-in type.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Historically, floating-point division in hardware was used to implement integer division.
The x87 circuitry for dividing 80-bit floating-point numbers could be repurposed for 64-bit
integer division.
This strategy is still many times faster than software division.
Intel desktop processors have received dedicated integer dividers starting with Cannon Lake.</p>
   <h2 class="heading settled" data-level="3" id="impact-on-the-standard"><span class="secno">3. </span><span class="content">Impact on the standard</span><a class="self-link" href="#impact-on-the-standard"></a></h2>
   <p>First and foremost, this proposal mandates the following integer types in <code class="highlight"><c- o>&lt;</c-><c- n>cstdint</c-><c- o>></c-></code>:</p>
<pre class="language-cpp highlight"><c- k>using</c-> <c- n>int_least128_t</c->  <c- o>=</c-> <c- d>/* signed integer type */</c-><c- p>;</c->
<c- k>using</c-> <c- n>uint_least128_t</c-> <c- o>=</c-> <c- d>/* unsigned integer type */</c-><c- p>;</c->

<c- k>using</c-> <c- n>int_fast128_t</c->   <c- o>=</c-> <c- d>/* signed integer type */</c-><c- p>;</c->
<c- k>using</c-> <c- n>uint_fast128_t</c->  <c- o>=</c-> <c- d>/* unsigned integer type */</c-><c- p>;</c->

<c- k>using</c-> <c- n>int128_t</c-> <c- o>=</c-> <c- d>/* signed integer type */</c-><c- p>;</c-> <c- c1>// optional</c->
<c- k>using</c-> <c- n>uint128_t</c-> <c- o>=</c-> <c- d>/* unsigned integer type */</c-><c- p>;</c-> <c- c1>// optional</c->

<c- c1>// The corresponding macros for MIN and MAX must also be defined ...</c->
</pre>
   <p>This change in itself is almost no change at all.
The implementation can already provide <code class="highlight"><c- n>int_least128_t</c-></code> while complying with the C++11 standard.
Challenges only arise when considering the impact of these new types on the rest of the
standard library, and possibly C compatibility.</p>
   <h3 class="heading settled" data-level="3.1" id="c-compatibility"><span class="secno">3.1. </span><span class="content">C Compatibility</span><a class="self-link" href="#c-compatibility"></a></h3>
   <p>Any attempt of standardizing 128-bit integers must also keep possible compatibility with the C
standard in mind.
In particular, <code class="highlight"><c- b>intmax_t</c-></code> has historically prevented implementations from providing
integer types wider than <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> without breaking ABI compatibility.
A wider integer type would change the width of <code class="highlight"><c- b>intmax_t</c-></code>.</p>
   <p>C23 has relaxed the definition of <code class="highlight"><c- b>intmax_t</c-></code>. <a data-link-type="biblio" href="#biblio-n3047" title="N3047 working draft — August 4, 2022 ISO/IEC 9899:2023 (E)">[N3047]</a>, 7.22.1.5 [Greatest-width integer types] currently defines <code class="highlight"><c- b>intmax_t</c-></code> as follows:</p>
   <blockquote>
     The following type designates a signed integer type, other than a bit-precise integer type, capable of
representing any value of any signed integer type with the possible exceptions of signed bit-precise
integer types and of signed extended integer types that are wider than <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> and that are
referred by the type definition for an exact width integer type: 
<pre class="language-cpp highlight"><c- b>intmax_t</c->
</pre>
   </blockquote>
   <p>For <code class="highlight"><c- b>intmax_t</c-></code> to not be <code class="highlight"><c- n>int_least128_t</c-></code>,
there must exist an <code class="highlight"><c- n>int128_t</c-></code> alias for the same type.
GCC already provides an <code class="highlight"><c- b>__int128</c-></code> type which satisfies the padding-free requirement and could
be exposed as <code class="highlight"><c- n>int128_t</c-></code>.</p>
   <p>In conclusion, it is possible to provide a <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code> alias with equivalent
semantics in C and C++, and with no ABI break.</p>
   <h3 class="heading settled" data-level="3.2" id="core-impact"><span class="secno">3.2. </span><span class="content">Impact on the core language</span><a class="self-link" href="#core-impact"></a></h3>
   <p>The proposal makes no changes to the core language.
However, it is worth noting that the existence of <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-></code> leads to some oddities:</p>
   <ul>
    <li data-md>
     <p>The result of the <code class="highlight"><c- k>sizeof</c-></code> operator can be a 128-bit integer.</p>
    <li data-md>
     <p>The underlying type of enumerations can be a 128-bit integer.</p>
    <li data-md>
     <p>Previously ill-formed integer literals could now be of 128-bit integer type.</p>
    <li data-md>
     <p>The conditions in <code class="highlight"><c- cp>#if</c-></code> preprocessing directives are evaluated as if operands had the same
representation as <code class="highlight"><c- b>intmax_t</c-></code> or <code class="highlight"><c- b>uintmax_t</c-></code>,
which means that 128-bit integers cannot be used in this context, or the values
would be truncated.</p>
   </ul>
   <p>However, none of this is a new issue introduced by this proposal.
Any compliant implementation could already have produced this behavior,
assuming it supported 128-bit integers as an optional extended integer type.</p>
   <p>While there is certainly software which relies on <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>size_t</c-></code> and other types not exceeding
64 bits, not defining <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>size_t</c-></code> to be a 128-bit type is a QoI (Qualify of Implementation) issue.
Such problems are not within the scope of the standard.</p>
   <h3 class="heading settled" data-level="3.3" id="library-impact"><span class="secno">3.3. </span><span class="content">Impact on the library</span><a class="self-link" href="#library-impact"></a></h3>
   <p>Find below a summary of issues that arise from the introduction of 128-bit integers in the
C++ standard library.
One common issue is that aliases such as <code class="highlight"><c- n>size_type</c-></code> and <code class="highlight"><c- n>difference_type</c-></code> within
containers, iterators, and other types can be a 128-bit integer.
The same applies to <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>size_t</c-></code>, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>ptrdiff_t</c-></code>, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>intmax_t</c-></code>.</p>
   <p>The proposal does not force library maintainers to re-define any of these aliases;
it’s just a possibility.
Whether to define them as such is a QoI issue in general, and won’t be discussed further.</p>
   <h4 class="heading settled" data-level="3.3.1" id="library-impact-language-support"><span class="secno">3.3.1. </span><span class="content">Language support library</span><a class="self-link" href="#library-impact-language-support"></a></h4>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>div</c-></code> may need an overload for 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard because we don’t support it (see <a href="#div">§ 6.5 Why no std::div?</a>).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>to_integer</c-></code> may need 128-bit support.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- o>&lt;</c-><c- n>version</c-><c- o>></c-></code> needs 128-bit integer feature-testing macro.<br> <strong>Action:</strong> ⚠️ Add macros (see <a href="#proposed-version">§ 8.1 Header &lt;version></a> for wording).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- o>&lt;</c-><c- n>numeric_limits</c-><c- o>></c-></code> needs a trait for 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard; require a <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>numeric_limits</c-></code> specialization.</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- o>&lt;</c-><c- n>climits</c-><c- o>></c-></code> needs additional constants for 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- o>&lt;</c-><c- n>cstdint</c-><c- o>></c-></code> needs to explicitly require support for 128-bit integers
in its synopsys.<br> <strong>Action:</strong> ⚠️ Define aliases (see <a href="#proposed-cstdint">§ 8.2 Header &lt;cstdint></a> for wording).</p>
   <h4 class="heading settled" data-level="3.3.2" id="library-impact-metaprogramming"><span class="secno">3.3.2. </span><span class="content">Metaprogramming library</span><a class="self-link" href="#library-impact-metaprogramming"></a></h4>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>is_integral</c-></code> needs to support 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard
(see <a href="#type-traits-implementation-experience">§ 7.2.1 &lt;type_traits></a> for implementation experience).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>make_signed</c-></code> and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>make_unsigned</c-></code> require 128-bit support.<br> <strong>Action:</strong> ✔️ No impact on the standard
(see <a href="#type-traits-implementation-experience">§ 7.2.1 &lt;type_traits></a> for implementation experience).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ratio</c-></code> currently accepts non-type template arguments of <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>intmax_t</c-></code>. <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>intmax_t</c-></code> is no longer the widest integer type and changing the type of NTTP to <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-></code> would be an ABI break because the type of template argument participates
in name mangling.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Unfortunately, ratios beyond 2<sup>64</sup> or 2<sup>-64</sup> cannot be represented, assuming that <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>intmax_t</c-></code> is a 64-bit integer.</p>
   <h4 class="heading settled" data-level="3.3.3" id="library-impact-utilities"><span class="secno">3.3.3. </span><span class="content">General utilities library</span><a class="self-link" href="#library-impact-utilities"></a></h4>
   <p><strong>Issue:</strong> Integer comparison functions (<code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>cmp_equal</c-></code> et al.) require 128-bit support. <strong>Action:</strong> ✔️ No impact on the standard
(see <a href="#safe-comparison-implementation-experience">§ 7.2.2 std::cmp_xxx</a> for implementation experience).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>integer_sequence</c-></code> needs to support 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>bitset</c-></code> could receive an additional constructor taking <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-></code>.<br> <strong>Action:</strong> ⚠️ Add such a constructor (see <a href="#proposed-bitset">§ 8.3 Class template bitset</a> for wording).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>bitset</c-></code> could receive an additional <code class="highlight"><c- n>to_u128</c-></code> function, similar to <code class="highlight"><c- n>to_ullong</c-></code>.<br> <strong>Action:</strong> ⚠️ Add such a function (see <a href="#proposed-bitset">§ 8.3 Class template bitset</a> for wording).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>to_chars</c-></code> and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>from_chars</c-></code> need to support 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard
(see <a href="#charconv-implementation-experience">§ 7.2.3 &lt;charconv></a> for implementation experience).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- o>&lt;</c-><c- n>format</c-><c- o>></c-></code> needs to support 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard
(see <a href="#format-implementation-experience">§ 7.2.4 &lt;format></a> for implementation experience).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>basic_format_parse_context</c-><c- o>::</c-><c- n>check_dynamic_spec</c-></code> might need 128-bit integers support.<br> <strong>Action:</strong> ✔️ No, it doesn’t
(see <a href="#format-implementation-experience">§ 7.2.4 &lt;format></a> for implementation experience).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>basic_format_arg</c-></code> might need support for 128-bit integers.<br> <strong>Action:</strong> ✔️ No, it doesn’t
(see <a href="#format-implementation-experience">§ 7.2.4 &lt;format></a> for implementation experience).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- o>&lt;</c-><c- n>bit</c-><c- o>></c-></code> needs to support 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard
(see <a href="#bit-implementation-experience">§ 7.2.5 &lt;bit></a> for implementation experience).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>to_string</c-></code> could support 128-bit types.<br> <strong>Action:</strong> ⚠️ Add overloads (see <a href="#proposed-numeric-conversions">§ 8.4 Numeric conversions</a> for wording).</p>
   <h4 class="heading settled" data-level="3.3.4" id="library-impact-containers"><span class="secno">3.3.4. </span><span class="content">Containers library</span><a class="self-link" href="#library-impact-containers"></a></h4>
   <p><strong>Issue:</strong> The extents and index types of <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>mdspan</c-></code> could be 128-bit integers.
This is also the case for type aliases of <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>strided_slice</c-></code>.
The exposition-only helper <code class="highlight"><i><c- n>integral</c-><c- o>-</c-><c- n>constant</c-><c- o>-</c-><c- n>like</c-></i></code> now also includes
128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard.
All these issues are either QoI or don’t impact existing implementations substantially.</p>
   <h4 class="heading settled" data-level="3.3.5" id="library-impact-iterators"><span class="secno">3.3.5. </span><span class="content">Iterators library</span><a class="self-link" href="#library-impact-iterators"></a></h4>
   <p><strong>Issue:</strong> The exposition-only helper <code class="highlight"><i><c- n>integral</c-><c- o>-</c-><c- n>constant</c-><c- o>-</c-><c- n>like</c-></i></code> now also includes
128-bit integers.
Generally, 128-bit integers would be a valid <code class="highlight"><c- n>difference_type</c-></code> and an implementation needs to
consider this when defining concepts that use integers in any way.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p class="note" role="note"><span class="marker">Note:</span> As long as <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>is_integral</c-></code> (and by proxy, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>integral</c-></code>) is correct, the existing wording
should be unaffected.</p>
   <h4 class="heading settled" data-level="3.3.6" id="library-impact-ranges"><span class="secno">3.3.6. </span><span class="content">Ranges library</span><a class="self-link" href="#library-impact-ranges"></a></h4>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ranges</c-><c- o>::</c-><c- n>iota_view</c-><c- o>&lt;</c-><c- b>long</c-> <c- b>long</c-><c- o>>::</c-><i><c- n>iterator</c-></i><c- o>::</c-><c- n>difference_type</c-></code> is required to be a 128-bit integer if <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> is not 128-bit, and such a type exists.
This is not the the case in libc++ and MSVC STL at this time,
where <code class="highlight"><c- n>difference_type</c-></code> is <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> and <code class="highlight"><c- k>class</c-> <c- nc>std</c-><c- o>::</c-><c- n>_Signed128</c-></code> respectively.<br> <strong>Action:</strong> ❌ Propose changes to prevent breaking ABI
(see <a href="#iota-view-abi-break">§ 4.2 ABI break for std::ranges::iota_view::iterator::difference_type</a> for discussion and <a href="#proposed-iota">§ 8.5 Iota view</a> for wording).</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>cartesian_product_view</c-><c- o>::</c-><c- n>size</c-></code> may now return a 128-bit integer.
The standard recommends to use a type which is sufficiently wide to store the product
of sizes of underlying ranges.
A similar issue arises for <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>cartesian_product_view</c-><c- o>::</c-><c- n>iterator</c-></code>.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The choice of integer type used to be (and still is) implementation-defined.</p>
   <h4 class="heading settled" data-level="3.3.7" id="library-impact-algorithms"><span class="secno">3.3.7. </span><span class="content">Algorithms library</span><a class="self-link" href="#library-impact-algorithms"></a></h4>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>gcd</c-></code>, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>lcm</c-></code>, and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>midpoint</c-></code> need to support 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard
(see <a href="#gcd-implementation-experience">§ 7.2.6 std::gcd, std::lcm</a> for implementation experience).</p>
   <p><strong>Issue:</strong> Saturating arithmetic functions and <code class="highlight"><c- n>saturate_cast</c-></code> need to support 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard
(see <a href="#saturating-implementation-experience">§ 7.2.7 Saturating arithmetic</a> for implementation experience).</p>
   <h4 class="heading settled" data-level="3.3.8" id="library-impact-numerics"><span class="secno">3.3.8. </span><span class="content">Numerics library</span><a class="self-link" href="#library-impact-numerics"></a></h4>
   <p><strong>Issue:</strong> Various random number generators and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uniform_int_distribution</c-></code> need to support
128-bit types.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>seed_seq</c-></code> needs to support <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>initializer_list</c-><c- o>&lt;</c-><c- n>std</c-><c- o>::</c-><c- n>uint128_t</c-><c- o>></c-></code>.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>valarray</c-></code> needs to support 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard (see <a href="#valarray-implementation-experience">§ 7.2.9 std::valarray</a> for implementation experience)</p>
   <p><strong>Issue:</strong> For most <code class="highlight"><c- o>&lt;</c-><c- n>cmath</c-><c- o>></c-></code> functions, an additional overload taking 128-bit integers would
need to be defined.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>abs</c-></code> could receive an additional 128-bit overload.<br> <strong>Action:</strong> ⚠️ Add an overload
(see <a href="#proposed-abs">§ 8.6 Absolute values</a> for wording and <a href="#abs-implementation-experience">§ 7.2.8 std::abs</a> for implementation experience).</p>
   <p><strong>Issue:</strong> The <code class="highlight"><c- o>&lt;</c-><c- n>linalg</c-><c- o>></c-></code> library needs 128-bit support.<br> <strong>Action:</strong> ✔️ No impact on the standard
(see <a href="#linalg-implementation-experience">§ 7.2.10 &lt;linalg></a> for implementation experience).</p>
   <h4 class="heading settled" data-level="3.3.9" id="library-impact-time"><span class="secno">3.3.9. </span><span class="content">Time library</span><a class="self-link" href="#library-impact-time"></a></h4>
   <p><strong>Issue:</strong> Significant portions of <code class="highlight"><c- o>&lt;</c-><c- n>chrono</c-><c- o>></c-></code> use <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ratio</c-></code>, which has <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>intmax_t</c-></code> template
parameters.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <div class="note" role="note">
     <span class="marker">Note:</span> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ratio</c-></code> cannot represent certain extreme ratios
if <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>intmax_t</c-></code> is narrower than <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-></code>.
However, the time library is generally safe to use, even if the representation of say, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>duration</c-></code> is wider than the types used in a <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ratio</c-></code> fraction. 
    <p>If there is future interest, types such as <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>duration</c-></code> could be relaxed to work with <em>ratio-like</em> types,
so that a new 128-bit <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ratio</c-></code>-style type could be used as well,
not just <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ratio</c-></code> itself.
However, this is a significant extension of the time library and not part of this proposal.</p>
   </div>
   <h4 class="heading settled" data-level="3.3.10" id="library-impact-localization"><span class="secno">3.3.10. </span><span class="content">Localization library</span><a class="self-link" href="#library-impact-localization"></a></h4>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>num_get</c-></code> and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>num_put</c-></code> could use <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-></code> overloads for <code class="highlight"><c- n>do_get</c-></code>.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This would be a an ABI break if changes were made. <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>format</c-></code> and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>print</c-></code> provide sufficient alternatives which can be supported without
breaking ABI.</p>
   <h4 class="heading settled" data-level="3.3.11" id="library-impact-io"><span class="secno">3.3.11. </span><span class="content">Input/output library</span><a class="self-link" href="#library-impact-io"></a></h4>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>num_get</c-></code> and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>num_put</c-></code> don’t support 128-bit integers.
By proxy, extraction and insertion with <code class="highlight"><c- k>operator</c-><c- o>>></c-></code> would not work.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The standard doesn’t require these to work for all integer types, only for standard integer types.
Any change would be an ABI break, so these facilities could be left untouched.
Unfortunately, the user won’t be able to <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>cout</c-> <c- o>&lt;&lt;</c-> <c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-><c- p>{...}</c-></code>, however,
the language provides sufficient alternatives.</p>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>printf</c-></code> and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>scanf</c-></code> need to support 128-bit integers.<br> <strong>Action:</strong> ✔️ No impact on the standard.</p>
   <p class="note" role="note"><span class="marker">Note:</span> <code class="highlight"><c- n>PRI</c-><c- o>*</c-><c- n>LEAST128</c-></code> would also need to be defined, but this has no impact on the existing wording.</p>
   <div class="example" id="example-800bb11b">
    <a class="self-link" href="#example-800bb11b"></a> With the changes from <a data-link-type="biblio" href="#biblio-n2680" title="Specific width length modifier">[N2680]</a> included, an alternative way of printing 128-bit
integers is: 
<pre class="language-cpp highlight"><c- n>std</c-><c- o>::</c-><c- n>printf</c-><c- p>(</c-><c- s>"%w128d</c-><c- se>\n</c-><c- s>"</c-><c- p>,</c-> <c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-><c- p>{</c-><c- mi>123</c-><c- p>});</c->
</pre>
   </div>
   <h4 class="heading settled" data-level="3.3.12" id="concurrency-support-library"><span class="secno">3.3.12. </span><span class="content">Concurrency support library</span><a class="self-link" href="#concurrency-support-library"></a></h4>
   <p><strong>Issue:</strong> <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>atomic</c-></code> needs to support <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-></code>.<br> <strong>Action:</strong> ✔️ No impact on the standard
(see <a href="#atomic-implementation-experience">§ 7.2.11 std::atomic</a> for implementation experience).</p>
   <p><strong>Issue:</strong> There should be additional aliases <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>atomic_uint_least128_t</c-></code> et al. aliases.<br> <strong>Action:</strong> ⚠️ Define aliases
(see <a href="#proposed-atomic">§ 8.7 Atomic operations</a> for wording).</p>
   <h2 class="heading settled" data-level="4" id="implementation-impact"><span class="secno">4. </span><span class="content">Impact on implementations</span><a class="self-link" href="#implementation-impact"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="estimated-implementation-effort"><span class="secno">4.1. </span><span class="content">Estimated implementation effort</span><a class="self-link" href="#estimated-implementation-effort"></a></h3>
   <p>The following table summarizes the affected standard library parts and the estimated effort
required to implement the proposed changes.</p>
   <table>
    <tbody>
     <tr>
      <th>Affected library part
      <th>Work definitely required
      <th>Impl. experience / Wording
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>to_integer</c-></code>
      <td>✔️ no
      <td>
     <tr>
      <td><code class="highlight"><c- o>&lt;</c-><c- n>version</c-><c- o>></c-></code>
      <td>⚠️ changes proposed
      <td><a href="#proposed-version">§ 8.1 Header &lt;version></a>
     <tr>
      <td><code class="highlight"><c- o>&lt;</c-><c- n>limits</c-><c- o>></c-></code>
      <td>add specializations
      <td>
     <tr>
      <td><code class="highlight"><c- o>&lt;</c-><c- n>climits</c-><c- o>></c-></code>
      <td>add macro constants
      <td>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>is_integral</c-></code>
      <td>✔️ no
      <td><a href="#type-traits-implementation-experience">§ 7.2.1 &lt;type_traits></a>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>make_</c-><c- p>{</c-><c- n>un</c-><c- p>}</c-><c- b>signed</c-></code>
      <td>✔️ no
      <td><a href="#type-traits-implementation-experience">§ 7.2.1 &lt;type_traits></a>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>cmp_xxx</c-></code>
      <td>✔️ no
      <td><a href="#safe-comparison-implementation-experience">§ 7.2.2 std::cmp_xxx</a>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>integer_sequence</c-></code>
      <td>✔️ no
      <td>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>bitset</c-><c- o>::</c-><c- n>bitset</c-></code>
      <td>⚠️ changes proposed
      <td><a href="#proposed-bitset">§ 8.3 Class template bitset</a>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>bitset</c-><c- o>::</c-><c- n>to</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code>
      <td>⚠️ changes proposed
      <td><a href="#proposed-bitset">§ 8.3 Class template bitset</a>
     <tr>
      <td><code class="highlight"><c- o>&lt;</c-><c- n>charconv</c-><c- o>></c-></code>
      <td>✔️ no
      <td><a href="#charconv-implementation-experience">§ 7.2.3 &lt;charconv></a>
     <tr>
      <td><code class="highlight"><c- o>&lt;</c-><c- n>format</c-><c- o>></c-></code>
      <td>✔️ no
      <td><a href="#format-implementation-experience">§ 7.2.4 &lt;format></a>
     <tr>
      <td><code class="highlight"><c- o>&lt;</c-><c- n>bit</c-><c- o>></c-></code>
      <td>✔️ no
      <td><a href="#bit-implementation-experience">§ 7.2.5 &lt;bit></a>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>to_string</c-></code>
      <td>⚠️ changes proposed
      <td><a href="#proposed-numeric-conversions">§ 8.4 Numeric conversions</a>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>iota_view</c-></code>
      <td>✔️ no
      <td><a href="#proposed-iota">§ 8.5 Iota view</a>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>gcd</c-></code>, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>lcm</c-></code>
      <td>✔️ no
      <td><a href="#gcd-implementation-experience">§ 7.2.6 std::gcd, std::lcm</a>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>midpoint</c-></code>
      <td>✔️ no
      <td>
     <tr>
      <td>Saturating arithmetic
      <td>✔️ no
      <td><a href="#saturating-implementation-experience">§ 7.2.7 Saturating arithmetic</a>
     <tr>
      <td><code class="highlight"><c- o>&lt;</c-><c- n>random</c-><c- o>></c-></code> generators
      <td>✔️ no
      <td>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uniform_int_distribution</c-></code>
      <td>✔️ no
      <td>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>seed_seq</c-></code>
      <td>✔️ no
      <td>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>valarray</c-></code>
      <td>✔️ no
      <td><a href="#valarray-implementation-experience">§ 7.2.9 std::valarray</a>
     <tr>
      <td><code class="highlight"><c- o>&lt;</c-><c- n>cmath</c-><c- o>></c-></code> overloads
      <td>add overloads
      <td>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>abs</c-></code>
      <td>⚠️ changes proposed
      <td><a href="#abs-implementation-experience">§ 7.2.8 std::abs</a>
     <tr>
      <td><code class="highlight"><c- o>&lt;</c-><c- n>linalg</c-><c- o>></c-></code>
      <td>✔️ no
      <td><a href="#linalg-implementation-experience">§ 7.2.10 &lt;linalg></a>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>printf</c-></code>, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>scanf</c-></code>
      <td>support 128-bit
      <td>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>atomic</c-></code> specializations
      <td>✔️ no
      <td><a href="#atomic-implementation-experience">§ 7.2.11 std::atomic</a>
     <tr>
      <td><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>atomic</c-></code> aliases
      <td>⚠️ changes proposed
      <td><a href="#proposed-atomic">§ 8.7 Atomic operations</a>
   </table>
   <p>When deciding <em>"Work definitely required"</em>, this paper does not consider menial changes like
relaxing <code class="highlight"><c- k>static_assert</c-><c- p>(</c-><c- n>__is_standard_integer</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-><c- p>)</c-></code> and such,
which may be present in functions such as <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>gcd</c-></code>.</p>
   <p>Also, if there exists at least one standard library which implements these features,
it is assumed that they can be adapted into other libraries with relative ease.</p>
   <h3 class="heading settled" data-level="4.2" id="iota-view-abi-break"><span class="secno">4.2. </span><span class="content">ABI break for <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ranges</c-><c- o>::</c-><c- n>iota_view</c-><c- o>::</c-><i><c- n>iterator</c-></i><c- o>::</c-><c- n>difference_type</c-></code></span><a class="self-link" href="#iota-view-abi-break"></a></h3>
   <p>libstdc++ defines <code class="highlight"><c- n>difference_type</c-></code> for <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ranges</c-><c- o>::</c-><c- n>iota_view</c-><c- o>&lt;</c-><c- b>long</c-> <c- b>long</c-><c- o>></c-></code> to be <code class="highlight"><c- b>__int128</c-></code>.
Since a <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code> alias would likely be defined as <code class="highlight"><c- b>__int128</c-></code>, there is no ABI impact.
Other libraries are not so fortunate.</p>
   <h4 class="heading settled" data-level="4.2.1" id="abi-break-affected-implementations"><span class="secno">4.2.1. </span><span class="content">Affected implementations</span><a class="self-link" href="#abi-break-affected-implementations"></a></h4>
   <p>By contrast, the <code class="highlight"><c- n>difference_type</c-></code> for <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>ranges</c-><c- o>::</c-><c- n>iota_view</c-><c- o>&lt;</c-><c- b>long</c-> <c- b>long</c-><c- o>></c-></code> in libc++
is <code class="highlight"><c- b>long</c-> <c- b>long</c-></code>.</p>
   <p>The MSVC STL uses a class type <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>_Signed128</c-></code>.
Even trivially copyable classes aren’t passed via register in the Microsoft x86_64 ABI,
so this type is passed via the stack.
Re-defining this to be an integer type would break ABI, assuming that a Microsoft <code class="highlight"><c- b>__int128</c-></code> would be passed via registers.</p>
   <h4 class="heading settled" data-level="4.2.2" id="abi-break-cause"><span class="secno">4.2.2. </span><span class="content">Cause of ABI break</span><a class="self-link" href="#abi-break-cause"></a></h4>
   <p>The ABI break stems from the fact that <code class="highlight"><i><c- n>IOTA</c-><c- o>-</c-><c- n>DIFF</c-><c- o>-</c-><c- n>T</c-></i><c- p>(</c-><c- n>W</c-><c- p>)</c-></code> for <code class="highlight"><c- n>W</c-> <c- o>=</c-> <c- b>long</c-> <c- b>long</c-></code> is defined to be:</p>
   <blockquote>
    <p>a signed integer type of width greater than the width of <code class="highlight"><c- n>W</c-></code> if such a type exists.</p>
   </blockquote>
   <p>Currently, no such type exists, but if <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code> did exist, it would no longer be valid
to use a class type or <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> as a <code class="highlight"><c- n>difference_type</c-></code>.</p>
   <h4 class="heading settled" data-level="4.2.3" id="abi-break-possible-solution"><span class="secno">4.2.3. </span><span class="content">Possible solution</span><a class="self-link" href="#abi-break-possible-solution"></a></h4>
   <p>See <a href="#proposed-iota">§ 8.5 Iota view</a> for a proposed solution which resolves this issue without requiring
action from implementors.</p>
   <h2 class="heading settled" data-level="5" id="impact-on-existing-code"><span class="secno">5. </span><span class="content">Impact on existing code</span><a class="self-link" href="#impact-on-existing-code"></a></h2>
   <p>With no core language changes and only additional standard library features,
the impact on existing code should be minimal.</p>
   <h3 class="heading settled" data-level="5.1" id="possible-semantic-changes"><span class="secno">5.1. </span><span class="content">Possible semantic changes</span><a class="self-link" href="#possible-semantic-changes"></a></h3>
   <p>However, this idea is put into question when it comes to integer literals.</p>
   <div class="example" id="example-346c9a04">
    <a class="self-link" href="#example-346c9a04"></a> 
<pre class="highlight"><c- k>auto</c-> <c- n>x</c-> <c- o>=</c-> <c- mi>18446744073709551615</c-><c- p>;</c-> <c- c1>// 2</c-><sup><c- c1>64</c-></sup><c- c1>-1</c->
</pre>
    <p>If the widest signed integer type is a 64-bit type, this code is ill-formed.
Every compiler handles this differently:</p>
    <ul>
     <li data-md>
      <p>clang declares <code class="highlight"><c- n>x</c-></code> as <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></code> and emits a warning (compliant).</p>
     <li data-md>
      <p>GCC declares <code class="highlight"><c- n>x</c-></code> as <code class="highlight"><c- b>__int128</c-></code> and emits a misleading warning (compliant).</p>
     <li data-md>
      <p>MSVC declares <code class="highlight"><c- n>x</c-></code> as <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></code> and emits no warning (non-compliant).</p>
    </ul>
   </div>
   <p>The example demonstrates that in practice, introducing a 128-bit integer may
impact some existing code.
To comply with the C++ standard, the type of <code class="highlight"><c- mi>18446744073709551615</c-></code> would have to be <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code> assuming that <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> cannot represent the value.</p>
   <p>Hexadecimal literals are not affected in the same way because they
are required to be of type <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></code> if <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> cannot represent the value.
The introduction of a 128-bit integer type would not alter the signedness of existing literals.</p>
   <h3 class="heading settled" data-level="5.2" id="possible-assumption-violations"><span class="secno">5.2. </span><span class="content">Possible assumption violations</span><a class="self-link" href="#possible-assumption-violations"></a></h3>
   <p>There is obviously a substantial amount of code which assumes that integers are no wider
than 64 bits.
There is also a substantial amount of code which assumes that <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>intmax_t</c-></code> is
the widest integer type, and this assumption would be broken by introducing <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-></code>.</p>
   <p>The exact impact is not given an investigation in this proposal.
Assumptions about hardware or integer width limitations cannot hold back language development.
C would be stuck with 32-bit types if that had ever been a convincing rationale.
Also, the introduction of a 128-bit type does not break existing code unless the user chooses
to use it.</p>
   <h2 class="heading settled" data-level="6" id="design-considerations"><span class="secno">6. </span><span class="content">Design considerations</span><a class="self-link" href="#design-considerations"></a></h2>
   <p>The goal of this proposal is to obtain a mandatory 128-bit type with strong library support.
A <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>least_uint128_t</c-></code> alias is the only option that does not involve any changes
to the core language.
Therefore, it is the obvious design choice for this proposal.</p>
   <p>However, there are a few possible alternatives which were considered:</p>
   <h3 class="heading settled" data-level="6.1" id="standard-integers"><span class="secno">6.1. </span><span class="content">Why no standard integer type?</span><a class="self-link" href="#standard-integers"></a></h3>
   <p>One question that needs addressing is:</p>
   <blockquote>
    <p>Why standardize a <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-></code> type alias but no standard integer type?
Essentially, why no <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- b>long</c-></code>?</p>
   </blockquote>
   <p>Firstly, naming might be a problem here.
A standard integer type would likely warrant the ability to name it by keyword, and an
ever-increasing sequence of <code class="highlight"><c- b>long</c-></code>s isn’t an attractive solution.
Even with a concise keyword such as <code class="highlight"><c- n>_Uint128</c-></code>, it is unclear what advantage such a keyword
would have over a type alias, other than saving one <code class="highlight"><c- cp>#include</c-></code> directive.</p>
   <p>Secondly, it is useful to keep <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>uint_least128_t</c-></code> a second-class citizen by not making it a
standard integer type.
For example, in the formatting library, a format string can
specify a dynamic <em>width</em> for an argument, which must be a standard integer.
A <em>width</em> that cannot be represented by a 64-bit number is unreasonable,
so it makes sense to limit support to standard integers.</p>
   <p>Thirdly, as already stated in <a href="#c-compatibility">§ 3.1 C Compatibility</a>, C’s <code class="highlight"><c- b>intmax_t</c-></code> must be the
widest standard integer type.
To not break ABI and be C-compatible, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code> must be
an extended integer type.</p>
   <h3 class="heading settled" data-level="6.2" id="exact-width-integers"><span class="secno">6.2. </span><span class="content">Why no mandatory <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int128_t</c-></code> type?</span><a class="self-link" href="#exact-width-integers"></a></h3>
   <p>Mandating any exact <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>intN_t</c-></code> inadvertently restricts the byte width
because exact-width types cannot have any padding. <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int128_t</c-></code> implies that the width of a byte is a power of two ≤ 128,
and historically, C++ has not restricted implementations to a specific byte size.</p>
   <p>This decrease in portability also has no good rationale.
If <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code> is mandatory and an implementation is able to define it without padding,
then <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int128_t</c-></code> is effectively mandatory.</p>
   <p>Hypothetically, a malicious implementation could define <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code> to be a 1000-bit
integer with 872 padding bits, even if it was able to define a padding-free 128-bit integer.
However, malicious implementations have never been a strong argument to guide design.</p>
   <h3 class="heading settled" data-level="6.3" id="why-no-256-bit"><span class="secno">6.3. </span><span class="content">Why no <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least256_t</c-></code> type?</span><a class="self-link" href="#why-no-256-bit"></a></h3>
   <p>256-bit integers are also useful and one could use many of the arguments
in favor of 128-bit integers to also propose them.
However, there are are a few strong reasons against including them in this proposal:</p>
   <ol>
    <li data-md>
     <p>The wider the bit sizes, the fewer the use cases are.
For example, 128 bits are sufficient for high-precision clocks and most financial
applications.</p>
    <li data-md>
     <p>There is tremendously less hardware support for 256-bit integers.
x86 has instructions to perform a 64-to-128-bit multiplication, but no such
128-to-256-bit instruction exists.</p>
    <li data-md>
     <p>There are fewer existing implementations of 256-bit integers.</p>
   </ol>
   <p>It is also unclear whether there should ever be a mandatory 256-bit extended integer type,
or if support should be provided through 256-bit bit-precise integers.
Overall, this proposal is more focused if it includes only 128-bit.</p>
   <p>Nevertheless, many of the changes in <a href="#proposed-wording">§ 8 Proposed wording</a> pave the way for a future <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least256_t</c-></code> or even <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least512_t</c-></code>.
There would be no wording impact other than defining the necessary aliases and macros.</p>
   <h3 class="heading settled" data-level="6.4" id="bit-precise-integers"><span class="secno">6.4. </span><span class="content">Why no bit-precise integers?</span><a class="self-link" href="#bit-precise-integers"></a></h3>
   <p>Instead of putting any work into 128-bit integers, it would also be possible to integrate
bit-precise integers (C’s <code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- n>N</c-><c- p>)</c-></code> type, proposed in <a data-link-type="biblio" href="#biblio-n2763" title="Adding a Fundamental Type for N-bit integers">[N2763]</a>) into the C++ standard.
Therefore, one may ask:</p>
   <blockquote>
    <p>Why don’t we just standardize <code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- n>N</c-><c- p>)</c-></code> and introduce 128-bit integers that way?</p>
   </blockquote>
   <p>In essence, this is asking:</p>
   <blockquote>
    <p>Why don’t we just build a ten-lane highway instead of a cyclist path?</p>
   </blockquote>
   <p>Firstly, this would be an enormously ambitious and time-intensive undertaking, with huge impact
on the standard.
Secondly, <code class="highlight"><c- b>_BitInt</c-></code> does not satisfy the goals of this proposal for multiple reasons:</p>
   <ol>
    <li data-md>
     <p><code class="highlight"><c- b>_BitInt</c-></code> in C23 isn’t required to support 128 bits at all (see below).
Only 64 bits (or as much as <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> is wide) are required.
In other words, <code class="highlight"><c- b>_BitInt</c-></code> doesn’t automatically give you 128-bit support.</p>
    <li data-md>
     <p>It is not reasonable to expect full library support for any bit size.
Even C doesn’t require <code class="highlight"><c- b>_BitInt</c-></code> support for its bit-manipulation functions, <code class="highlight"><c- n>printf</c-></code>, and
other utilities.
The C++ standard library dwarfs that of C.
It is even less realistic to expect full support from all C++ numeric functions,
input/output facilities etc.
However, it is realistic to extend library support to <em>just</em> 128 bits.</p>
    <li data-md>
     <p>Even if library support for specifically 128-bit bit-precise integers was added,
this would be very strange to specify in the standard.
Perhaps <code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- mi>128</c-><c- p>)</c-></code> would be treated differently from other bit-precise types and given more support from <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>format</c-></code> and other functions, but this would be a somewhat arbitrary type, compared
to standard integer types, which have minimum sizes, not exact sizes.
Alternatively, support would be provided through a <code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- n>N</c-> <c- o>>=</c-> <c- mi>128</c-><c- p>)</c-></code> type, but to easily
refer to it, one would need a <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>bit_int_least128_t</c-></code> alias
(Note that defining <code class="highlight"><c- n>int_least128_t</c-> <c- o>=</c-> <c- b>_BitInt</c-><c- p>(</c-><c- mi>128</c-><c- p>)</c-></code> would likely compromise C compatibility).
At that point, we’re just getting <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code> with extra steps.</p>
    <li data-md>
     <p><code class="highlight"><c- b>_BitInt</c-></code> creates a parallel system to the existing standard and extended integer types.
Bit-precise integers have different promotion/conversion rules, and may behave differently
in terms of overload resolution when standardized in C++.
An extended 128-bit type would integrate more naturally into the existing type system.</p>
   </ol>
   <h4 class="heading settled" data-level="6.4.1" id="bitint-vs-uint128"><span class="secno">6.4.1. </span><span class="content">Comparison of bit-precise integers and 128-bit integers</span><a class="self-link" href="#bitint-vs-uint128"></a></h4>
   <table>
    <tbody>
     <tr>
      <th>
      <th>Bit-precise integers
      <th><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>int_least128_t</c-></code> 
     <tr>
      <th>128-bit support mandatory
      <td>❌
      <td>✔️
     <tr>
      <th>No core language changes
      <td>❌
      <td>✔️
     <tr>
      <th>Impl. can guarantee padding-freedom
      <td>❌
      <td>✔️
     <tr>
      <th>Impl. can guarantee 2<sup>N</sup> width
      <td>❌
      <td>✔️
     <tr>
      <th>Low implementation effort (built-in)
      <td>❌
      <td>❌
     <tr>
      <th>Low implementation effort (library)
      <td>❌
      <td>✔️
     <tr>
      <th>Integrates easily into the<br>existing system of standard integers
      <td>❌
      <td>✔️
     <tr>
      <th>Strong C library support required
      <td>❌
      <td>✔️
   </table>
   <p class="note" role="note"><span class="marker">Note:</span> The C23 standard currently does not mandate "full" library support for bit-precise integers.
For example, <code class="highlight"><c- n>printf</c-></code> would require a <code class="highlight"><c- n>PRIuLEASTN</c-></code> format specifier macro to print <code class="highlight"><c- n>uint_least128_t</c-></code>,
but the existence of <code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- mi>128</c-><c- p>)</c-></code> does not imply the existence of <code class="highlight"><c- n>uint_least128_t</c-></code> or such
a macro.</p>
   <h3 class="heading settled" data-level="6.5" id="div"><span class="secno">6.5. </span><span class="content">Why no <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>div</c-></code>?</span><a class="self-link" href="#div"></a></h3>
   <p><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>div</c-></code> is a function which returns the quotient and remainder of an integer division in one
operation.
This proposal intentionally doesn’t extend support to 128-bit types because each overload of <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>div</c-></code> returns a different type.
Namely, the current overloads for <code class="highlight"><c- b>int</c-></code>, <code class="highlight"><c- b>long</c-></code>, and <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> return <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>div_t</c-></code>, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- b>ldiv_t</c-></code>, and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>lldiv_t</c-></code> respectively.</p>
   <p>This scheme isn’t easy to generalize to 128-bit integers or other extended integer types.
A possibly approach would be to define a class template <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>div_result</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code> and re-define
the concrete types to be aliases for <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>div_result</c-><c- o>&lt;</c-><c- b>int</c-><c- o>></c-></code> etc.
However, this is arguably a breaking change because it alters what template argument deduction
is possible from these types.</p>
   <p>Furthermore, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>div</c-></code> is arguably useless.
Optimizing compilers recognize separate uses of <code class="highlight"><c- n>x</c-> <c- o>/</c-> <c- n>y</c-></code> and <code class="highlight"><c- n>x</c-> <c- o>%</c-> <c- n>y</c-></code> and fuse them into a single
division which yields both quotient and remainder, at least on platforms where this is possible.
There is no motivation for putting substantial work into a useless relic.</p>
   <h2 class="heading settled" data-level="7" id="implementation-experience"><span class="secno">7. </span><span class="content">Implementation experience</span><a class="self-link" href="#implementation-experience"></a></h2>
   <h3 class="heading settled" data-level="7.1" id="existing-128-bit-integers"><span class="secno">7.1. </span><span class="content">Existing 128-bit integer types</span><a class="self-link" href="#existing-128-bit-integers"></a></h3>
   <h4 class="heading settled" data-level="7.1.1" id="existing-int-128"><span class="secno">7.1.1. </span><span class="content"><code class="highlight"><c- b>__int128</c-></code> (GNU-like)</span><a class="self-link" href="#existing-int-128"></a></h4>
   <p>GCC and clang already provide the 128-bit integer types in the form of <code class="highlight"><c- b>__int128</c-></code> and <code class="highlight"><c- b>unsigned</c-> <c- b>__int128</c-></code>.</p>
   <h4 class="heading settled" data-level="7.1.2" id="existing-int-128-cuda"><span class="secno">7.1.2. </span><span class="content"><code class="highlight"><c- b>__int128</c-></code> (CUDA)</span><a class="self-link" href="#existing-int-128-cuda"></a></h4>
   <p>In NVIDIA CUDA 11.5, the NVCC compiler has added preview support for the
signed and unsigned <code class="highlight"><c- b>__int128</c-></code> data types on platforms where the host compiler supports it.
See <a data-link-type="biblio" href="#biblio-nvidia" title="Implementing High-Precision Decimal Arithmetic with CUDA int128">[NVIDIA]</a>.</p>
   <h4 class="heading settled" data-level="7.1.3" id="existing-msvc-128"><span class="secno">7.1.3. </span><span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>_Signed128</c-></code>, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>_Unsigned128</c-></code></span><a class="self-link" href="#existing-msvc-128"></a></h4>
   <p>The MSVC STL provides the class types <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>_Signed128</c-></code> and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>_Unsigned128</c-></code> defined in <a href="https://github.com/microsoft/STL/blob/main/stl/inc/__msvc_int128.hpp"><code class="highlight"><c- o>&lt;</c-><c- n>__msvc_int128</c-><c- p>.</c-><c- n>hpp</c-><c- o>></c-></code></a>.
These types implement all arithmetic operations and integer comparisons.</p>
   <p>They satisfy the <em>integer-like</em> constraint and have been added to implement <a data-link-type="biblio" href="#biblio-p1522r1" title="Iterator Difference Type and Integer Overflow">[P1522R1]</a>. <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>iota_view</c-><c- o>::</c-><c- n>difference_type</c-></code> is possibly defined as <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>_Signed128</c-></code>.</p>
   <h4 class="heading settled" data-level="7.1.4" id="existing-bit-int"><span class="secno">7.1.4. </span><span class="content"><code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- mi>128</c-><c- p>)</c-></code></span><a class="self-link" href="#existing-bit-int"></a></h4>
   <p>The C23 standard requires support for bit-precise integers <code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- n>N</c-> <c- o>&lt;=</c-> <c- n>BITINT_MAXWIDTH</c-><c- p>)</c-></code> where <code class="highlight"><c- n>BITINT_MAXWIDTH</c-> <c- o>>=</c-> <c- n>ULLONG_WIDTH</c-></code>.
While this doesn’t strictly force support for 128-bit integers,
GNU-family implementations support more than 128 bits already.</p>
   <p>As of February 2024, the support is as follows:</p>
   <table>
    <tbody>
     <tr>
      <th>Compiler
      <th><code class="highlight"><c- n>BITINT_MAXWIDTH</c-></code>
     <tr>
      <td>Clang 14
      <td><code class="highlight"><c- mi>128</c-></code>
     <tr>
     <tr>
      <td>Clang 16
      <td><code class="highlight"><c- mi>8388608</c-></code>
     <tr>
     <tr>
      <td>GCC 14
      <td><code class="highlight"><c- mi>65535</c-></code>
     <tr>
     <tr>
      <td>MSVC 19.38
      <td>❌
   </table>
   <p class="note" role="note"><span class="marker">Note:</span> Clang has supported <code class="highlight"><c- b>_BitInt</c-></code> as an <code class="highlight"><c- n>_ExtInt</c-></code> compiler extension prior to C standardization.</p>
   <p>It is reasonable to expect that given enough time, <code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- mi>128</c-><c- p>)</c-></code> will be
supported by Microsoft as well.</p>
   <h3 class="heading settled" data-level="7.2" id="library-implementation-experience"><span class="secno">7.2. </span><span class="content">Library implementation experience</span><a class="self-link" href="#library-implementation-experience"></a></h3>
   <h4 class="heading settled" data-level="7.2.1" id="type-traits-implementation-experience"><span class="secno">7.2.1. </span><span class="content"><code class="highlight"><c- o>&lt;</c-><c- n>type_traits</c-><c- o>></c-></code></span><a class="self-link" href="#type-traits-implementation-experience"></a></h4>
   <p>Assuming that <code class="highlight"><c- n>is_integral</c-></code> and <code class="highlight"><c- n>make_</c-><c- p>{</c-><c- n>un</c-><c- p>}</c-><c- b>signed</c-></code> don’t simply delegate to a compiler intrinsic,
implementing these traits merely requires adding two specializations such as <code class="highlight"><c- n>is_integral</c-><c- o>&lt;</c-><c- n>int_least128_t</c-><c- o>></c-> <c- o>:</c-> <c- n>false_type</c-></code>.</p>
   <p>See libstdc++'s <a href="https://github.com/gcc-mirror/gcc/blob/93e1559bea434a681208e5e7a21513d7da2844d6/libstdc%2B%2B-v3/include/std/type_traits"><code class="highlight"><c- o>&lt;</c-><c- n>type_traits</c-><c- o>></c-></code></a>.</p>
   <h4 class="heading settled" data-level="7.2.2" id="safe-comparison-implementation-experience"><span class="secno">7.2.2. </span><span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>cmp_xxx</c-></code></span><a class="self-link" href="#safe-comparison-implementation-experience"></a></h4>
   <p>Libstdc++ provides a width-agnostic implementation of <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>cmp_equal</c-></code> and other safe comparison functions in <a href="https://github.com/gcc-mirror/gcc/blob/93e1559bea434a681208e5e7a21513d7da2844d6/libstdc%2B%2B-v3/include/std/utility#L127"><code class="highlight"><c- o>&lt;</c-><c- n>utility</c-><c- o>></c-></code></a>.</p>
   <p>Being able to extend to a wider type is helpful in principle (e.g. implementing <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>cmp_equal</c-><c- p>(</c-><c- b>int</c-><c- p>,</c-> <c- b>int</c-><c- p>)</c-></code> in terms of a comparison between <code class="highlight"><c- b>long</c-></code>s),
however, the current implementations don’t make use of this opportunity anyway.</p>
   <h4 class="heading settled" data-level="7.2.3" id="charconv-implementation-experience"><span class="secno">7.2.3. </span><span class="content"><code class="highlight"><c- o>&lt;</c-><c- n>charconv</c-><c- o>></c-></code></span><a class="self-link" href="#charconv-implementation-experience"></a></h4>
   <p>libstdc++ already provides a width-agnostic implementation
of <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>to_chars</c-></code> in <a href="https://github.com/gcc-mirror/gcc/blob/cff174fabd6c980c09aee95db1d9d5c22421761f/libstdc%2B%2B-v3/include/bits/charconv.h"><code class="highlight"><c- o>&lt;</c-><c- n>bits</c-><c- o>/</c-><c- n>charconv</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code></a>,
and a width-agnostic implementation of <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>from_chars</c-></code> in <a href="https://github.com/gcc-mirror/gcc/blob/cff174fabd6c980c09aee95db1d9d5c22421761f/libstdc%2B%2B-v3/include/std/charconv"><code class="highlight"><c- o>&lt;</c-><c- n>charconv</c-><c- o>></c-></code></a>.</p>
   <p>In general, it is not difficult to generalize <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>to_chars</c-></code> for any width.
Stringification uses integer division, which may be a problem.
However, the divisor is constant.
Due to strength reduction optimization (see <a href="#fixed-point-operations">§ 2.1.5 Fixed-point operations</a> for an example),
no extreme cost is incurred no matter the width.</p>
   <h4 class="heading settled" data-level="7.2.4" id="format-implementation-experience"><span class="secno">7.2.4. </span><span class="content"><code class="highlight"><c- o>&lt;</c-><c- n>format</c-><c- o>></c-></code></span><a class="self-link" href="#format-implementation-experience"></a></h4>
   <p>libstdc++ already supports <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>format</c-></code> for <code class="highlight"><c- b>__int128</c-></code>.</p>
   <p>The locale-independent forms are simply implemented in terms of <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>to_chars</c-></code> and are not
affected by the introduction of 128-bit integers.
As explained above, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>to_chars</c-></code> implementations typically already support 128-bit integers.</p>
   <p>The new <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>basic_format_parse_context</c-><c- o>::</c-><c- n>check_dynamic_spec</c-></code> function is not affected.
This function only checks for the type of a dynamic <em>width</em> or <em>precision</em>, and the arguments are required to be of standard integer type.
Realistically the user will never need a 128-bit <em>width</em> or <em>precision</em>,
which is why no changes are proposed.</p>
   <p><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>basic_format_arg</c-></code> also requires no changes because <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>basic_format_arg</c-><c- o>::</c-><c- n>handle</c-></code> already covers extended integer and floating-point types.
Also, modifying the <code class="highlight"><c- n>value</c-></code> <code class="highlight"><c- n>variant</c-></code> within a <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>basic_format_arg</c-></code> would be an avoidable ABI-break.</p>
   <h4 class="heading settled" data-level="7.2.5" id="bit-implementation-experience"><span class="secno">7.2.5. </span><span class="content"><code class="highlight"><c- o>&lt;</c-><c- n>bit</c-><c- o>></c-></code></span><a class="self-link" href="#bit-implementation-experience"></a></h4>
   <p>In <a data-link-type="biblio" href="#biblio-bitpermutations" title="C++26 Bit Permutations">[BitPermutations]</a>, I have implemented the majority of C++ bit manipulation functions
for <em>any</em> width, i.e. in a way that is compatible with <code class="highlight"><c- b>_BitInt</c-><c- p>(</c-><c- n>N</c-><c- p>)</c-></code> for any <code class="highlight"><c- n>N</c-></code>.</p>
   <p>Such an extremely generalized implementation is challenging, however, merely extending support
to 128-bit given a 64-bit implementation is simple.</p>
   <div class="example" id="example-28ecfb3d">
    <a class="self-link" href="#example-28ecfb3d"></a> Given a 64-bit <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>popcount</c-></code>, a 128-bit implementation looks as follows: 
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>popcount</c-><c- p>(</c-><c- n>uint128_t</c-> <c- n>x</c-><c- p>)</c-> <c- p>{</c->
    <c- k>return</c-> <c- n>popcount</c-><c- p>(</c-><c- b>uint64_t</c-><c- p>(</c-><c- n>x</c-> <c- o>>></c-> <c- mi>64</c-><c- p>))</c-> <c- o>+</c-> <c- n>popcount</c-><c- p>(</c-><c- b>uint64_t</c-><c- p>(</c-><c- n>x</c-><c- p>));</c->
<c- p>}</c->
</pre>
   </div>
   <div class="example" id="example-5392957a">
    <a class="self-link" href="#example-5392957a"></a> Given a 64-bit <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>countr_zero</c-></code>, a 128-bit implementation looks as follows: 
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>countr_zero</c-><c- p>(</c-><c- n>uint128_t</c-> <c- n>x</c-><c- p>)</c-> <c- p>{</c->
    <c- b>int</c-> <c- n>result</c-> <c- o>=</c-> <c- n>countr_zero</c-><c- p>(</c-><c- b>uint64_t</c-><c- p>(</c-><c- n>x</c-><c- p>));</c->
    <c- k>return</c-> <c- n>result</c-> <c- o>&lt;</c-> <c- mi>64</c-> <c- o>?</c-> <c- n>result</c-> <c- o>:</c-> <c- mi>64</c-> <c- o>+</c-> <c- n>countr_zero</c-><c- p>(</c-><c- b>uint64_t</c-><c- p>(</c-><c- n>x</c-> <c- o>>></c-> <c- mi>64</c-><c- p>));</c->
<c- p>}</c->
</pre>
   </div>
   <p>All bit manipulation functions are easily constructed this way.</p>
   <h4 class="heading settled" data-level="7.2.6" id="gcd-implementation-experience"><span class="secno">7.2.6. </span><span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>gcd</c-></code>, <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>lcm</c-></code></span><a class="self-link" href="#gcd-implementation-experience"></a></h4>
   <p>libstdc++ provides a <a href="https://github.com/gcc-mirror/gcc/blob/cff174fabd6c980c09aee95db1d9d5c22421761f/libstdc%2B%2B-v3/include/std/numeric#L134"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>gcd</c-></code></a> implementation which uses the <a href="https://en.wikipedia.org/wiki/Binary_GCD_algorithm">Binary GCD algorithm</a>.
The MSVC STL has a similar implementation.
This algorithm is easily generalized to any width.
It requires <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>countr_zero</c-></code> for an efficient implementation, which is easy to implement
for 128-bit integers, as mentioned above.</p>
   <p>libc++ uses a naive <a href="https://github.com/llvm/llvm-project/blob/b17348c3b541d7fc7ec441c98db75c18d8959910/libcxx/include/__numeric/gcd_lcm.h#L53"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>gcd</c-></code></a> implementation based on the Euclidean Algorithm, which relies on integer division.
Due to the immense cost of integer division for 128-bit integers,
such an implementation may need revision.</p>
   <p><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>lcm</c-></code> requires no work because mathematically, <code class="highlight"><c- n>gcd</c-><c- p>(</c-><c- n>x</c-><c- p>,</c-> <c- n>y</c-><c- p>)</c-> <c- o>*</c-> <c- n>lcm</c-><c- p>(</c-><c- n>x</c-><c- p>,</c-> <c- n>y</c-><c- p>)</c-> <c- o>==</c-> <c- n>x</c-> <c- o>*</c-> <c- n>y</c-></code>.
The implementation effort (if any) is limited to <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>gcd</c-></code>.</p>
   <h4 class="heading settled" data-level="7.2.7" id="saturating-implementation-experience"><span class="secno">7.2.7. </span><span class="content">Saturating arithmetic</span><a class="self-link" href="#saturating-implementation-experience"></a></h4>
   <p>libstdc++ provides a width-agnostic implementation for all saturating arithmetic functions in <a href="https://github.com/gcc-mirror/gcc/blob/cff174fabd6c980c09aee95db1d9d5c22421761f/libstdc%2B%2B-v3/include/bits/sat_arith.h"><code class="highlight"><c- o>&lt;</c-><c- n>bits</c-><c- o>/</c-><c- n>sat_arith</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code></a>.</p>
   <p>Saturating arithmetic is generally done through compiler intrinsics such as <code class="highlight"><c- n>__builtin_mul_overflow</c-></code>.
These are already supported by GCC and Clang.
A software implementation of overflow detection may be very tedious as explained in <a data-link-type="biblio" href="#biblio-p0543r3" title="Saturation arithmetic">[P0543R3]</a>, but that isn’t the chosen implementation anyway.</p>
   <h4 class="heading settled" data-level="7.2.8" id="abs-implementation-experience"><span class="secno">7.2.8. </span><span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>abs</c-></code></span><a class="self-link" href="#abs-implementation-experience"></a></h4>
   <p><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>abs</c-></code> can be easily implemented width-agnostically as <code class="highlight"><c- n>x</c-> <c- o>>=</c-> <c- mi>0</c-> <c- o>?</c-> <c- n>x</c-> <c- o>:</c-> <c- o>-</c-><c- n>x</c-></code> for any integer <code class="highlight"><c- n>x</c-></code>.</p>
   <p>Note that an overload must exist for every integer type to avoid calling <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>abs</c-></code> for
floating-point types.
Such an overload is proposed in <a href="#proposed-abs">§ 8.6 Absolute values</a>.</p>
   <h4 class="heading settled" data-level="7.2.9" id="valarray-implementation-experience"><span class="secno">7.2.9. </span><span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>valarray</c-></code></span><a class="self-link" href="#valarray-implementation-experience"></a></h4>
   <p><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>valarray</c-><c- o>&lt;</c-><c- n>T</c-><c- o>></c-></code> does not rely on any specific bit-size, or on <code class="highlight"><c- n>T</c-></code> being any
type in general.
While it is possible to provide specializations for specific types that make
more optimal use of hardware, it is also possible to rely on the
optimizers auto-vectorization capabilities alone.</p>
   <h4 class="heading settled" data-level="7.2.10" id="linalg-implementation-experience"><span class="secno">7.2.10. </span><span class="content"><code class="highlight"><c- o>&lt;</c-><c- n>linalg</c-><c- o>></c-></code></span><a class="self-link" href="#linalg-implementation-experience"></a></h4>
   <p>The linear algebra library introduced by <a data-link-type="biblio" href="#biblio-p1673r13" title="A free function linear algebra interface based on the BLAS">[P1673R13]</a> does not rely on any specific widths and
is generalized by default.
The corresponding <a href="https://github.com/kokkos/stdBLAS">reference implementation</a> can operate on <code class="highlight"><c- b>__int128</c-></code>.</p>
   <p>Providing specializations for specific widths is a quality-of-implementation issue.</p>
   <h4 class="heading settled" data-level="7.2.11" id="atomic-implementation-experience"><span class="secno">7.2.11. </span><span class="content"><code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>atomic</c-></code></span><a class="self-link" href="#atomic-implementation-experience"></a></h4>
   <p>Libc++ already provides support for fetch-operations for <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>atomic</c-><c- o>&lt;</c-><c- b>__int128</c-><c- o>></c-></code>.
For example, <code class="highlight"><c- p>.</c-><c- n>fetch_add</c-></code> delegates to <code class="highlight"><c- n>__atomic_fetch_add_16</c-></code> in libatomic.</p>
   <p>In general, the <code class="highlight"><c- n>fetch</c-></code> operations that <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>atomic</c-><c- o>&lt;</c-><c- b>long</c-> <c- b>long</c-><c- o>></c-></code> provides
must already have a software fallback for 32-bit hardware, where no 64-bit
atomic <code class="highlight"><c- n>add</c-></code> instruction exists.
Such a software fallback may be implemented as a <a href="https://en.wikipedia.org/wiki/Compare-and-swap">CAS-and-retry</a> loop.
The introduction of 128-bit integers adds no new challenges.</p>
   <h2 class="heading settled" data-level="8" id="proposed-wording"><span class="secno">8. </span><span class="content">Proposed wording</span><a class="self-link" href="#proposed-wording"></a></h2>
   <p>The proposed wording is relative to <a data-link-type="biblio" href="#biblio-cxxdraft" title="C++ Standard Draft">[CxxDraft]</a>, accessed 2024-02-10.</p>
   <h3 class="heading settled" data-level="8.1" id="proposed-version"><span class="secno">8.1. </span><span class="content">Header <code class="highlight"><c- o>&lt;</c-><c- n>version</c-><c- o>></c-></code></span><a class="self-link" href="#proposed-version"></a></h3>
   <p>In subclause 17.3.2 [version.syn], update the feature-testing macros as follows:</p>
   <blockquote>
<pre class="highlight"><ins><c- cp>#define __cpp_lib_atomic_int128    20XXXX</c-></ins>
<c- cp>#define __cpp_lib_bitset    </c-><del><c- cp>202306L</c-></del><ins><c- cp>20XXXX</c-></ins>
<ins><c- cp>#define __cpp_lib_bitset_int128    20XXXX</c-></ins>
<ins><c- cp>#define __cpp_lib_int128           20XXXX</c-></ins>
<c- cp>#define __cpp_lib_to_string </c-><del><c- cp>202306L</c-></del><ins><c- cp>20XXXX</c-></ins>
<ins><c- cp>#define __cpp_lib_to_string_int128 20XXXX</c-></ins>
</pre>
   </blockquote>
   <p class="note" role="note"><span class="marker">Note:</span> Feature-detection for <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>printf</c-></code> and <code class="highlight"><c- n>std</c-><c- o>::</c-><c- n>scanf</c-></code> is intentionally omitted
because the user can detect whether <code class="highlight"><c- n>PRI</c-><c- o>*</c-><c- n>LEAST128</c-></code>, <code class="highlight"><c- n>SCN</c-><c- o>*</c-><c- n>FAST128</c-></code> etc. are defined.</p>
   <h3 class="heading settled" data-level="8.2" id="proposed-cstdint"><span class="secno">8.2. </span><span class="content">Header <code class="highlight"><c- o>&lt;</c-><c- n>cstdint</c-><c- o>></c-></code></span><a class="self-link" href="#proposed-cstdint"></a></h3>
   <p>In subclause 17.4.1 [cstdint.syn], update the synopsis as follows:</p>
   <blockquote>
<pre class="highlight"><c- c1>// all freestanding</c->
<c- k>namespace</c-> <c- nn>std</c-> <c- p>{</c->
  <c- k>using</c-> <c- b>int8_t</c->          <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->    <c- c1>// optional</c->
  <c- k>using</c-> <c- b>int16_t</c->         <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->    <c- c1>// optional</c->
  <c- k>using</c-> <c- b>int32_t</c->         <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->    <c- c1>// optional</c->
  <c- k>using</c-> <c- b>int64_t</c->         <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->    <c- c1>// optional</c->
  <ins><c- k>using</c-> <c- n>int128_t</c->        <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->    <c- c1>// optional</c-></ins>
  <c- k>using</c-> <c- n>intN_t</c->          <c- o>=</c-> <i><c- n>see</c-> <c- n>below</c-></i><c- p>;</c->              <c- c1>// optional</c->

  <c- k>using</c-> <c- b>int_fast8_t</c->     <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>int_fast16_t</c->    <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>int_fast32_t</c->    <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>int_fast64_t</c->    <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <ins><c- k>using</c-> <c- n>int_fast128_t</c->   <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c-></ins>
  <c- k>using</c-> <c- n>int_fastN_t</c->     <c- o>=</c-> <i><c- n>see</c-> <c- n>below</c-></i><c- p>;</c->              <c- c1>// optional</c->

  <c- k>using</c-> <c- b>int_least8_t</c->    <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>int_least16_t</c->   <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>int_least32_t</c->   <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>int_least64_t</c->   <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <ins><c- k>using</c-> <c- n>int_least128_t</c->  <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c-></ins>
  <c- k>using</c-> <c- n>int_leastN_t</c->    <c- o>=</c-> <i><c- n>see</c-> <c- n>below</c-></i><c- p>;</c->              <c- c1>// optional</c->

  <c- k>using</c-> <c- b>intmax_t</c->        <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>intptr_t</c->        <c- o>=</c-> <i><c- b>signed</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->    <c- c1>// optional</c->

  <c- k>using</c-> <c- b>uint8_t</c->         <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->  <c- c1>// optional</c->
  <c- k>using</c-> <c- b>uint16_t</c->        <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->  <c- c1>// optional</c->
  <c- k>using</c-> <c- b>uint32_t</c->        <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->  <c- c1>// optional</c->
  <c- k>using</c-> <c- b>uint64_t</c->        <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->  <c- c1>// optional</c->
  <ins><c- k>using</c-> <c- n>uint128_t</c->       <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->  <c- c1>// optional</c-></ins>
  <c- k>using</c-> <c- n>uintN_t</c->         <c- o>=</c-> <i><c- n>see</c-> <c- n>below</c-></i><c- p>;</c->              <c- c1>// optional</c->

  <c- k>using</c-> <c- b>uint_fast8_t</c->    <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>uint_fast16_t</c->   <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>uint_fast32_t</c->   <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>uint_fast64_t</c->   <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <ins><c- k>using</c-> <c- n>uint_fast128_t</c->  <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c-></ins>
  <c- k>using</c-> <c- n>uint_fastN_t</c->    <c- o>=</c-> <i><c- n>see</c-> <c- n>below</c-></i><c- p>;</c->              <c- c1>// optional</c->

  <c- k>using</c-> <c- b>uint_least8_t</c->   <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>uint_least16_t</c->  <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>uint_least32_t</c->  <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>uint_least64_t</c->  <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <ins><c- k>using</c-> <c- n>uint_least128_t</c-> <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c-></ins>
  <c- k>using</c-> <c- n>uint_leastN_t</c->   <c- o>=</c-> <i><c- n>see</c-> <c- n>below</c-></i><c- p>;</c->              <c- c1>// optional</c->

  <c- k>using</c-> <c- b>uintmax_t</c->       <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->
  <c- k>using</c-> <c- b>uintptr_t</c->       <c- o>=</c-> <i><c- b>unsigned</c-> <c- n>integer</c-> <c- n>type</c-></i><c- p>;</c->  <c- c1>// optional</c->
<c- p>}</c->
</pre>
   </blockquote>
   <p>In subclause 17.4.1 [cstdint.syn], update paragraph 3 as follows:</p>
   <blockquote>
     All types that use the placeholder <em>N</em> are optional when <em>N</em> is not <code class="highlight"><c- mi>8</c-></code>, <code class="highlight"><c- mi>16</c-></code>, <code class="highlight"><c- mi>32</c-></code>, 
    <del>or</del>
     <code class="highlight"><c- mi>64</c-></code>
    <ins>, or <code class="highlight"><c- mi>128</c-></code></ins>
    .
The exact-width types <code class="highlight"><c- n>intN_t</c-></code> and <code class="highlight"><c- n>uintN_t</c-></code> for <em>N</em> = <code class="highlight"><c- mi>8</c-></code>, <code class="highlight"><c- mi>16</c-></code>, <code class="highlight"><c- mi>32</c-></code>, 
    <del>and</del>
     <code class="highlight"><c- mi>64</c-></code>
    <ins>, and <code class="highlight"><c- mi>128</c-></code></ins>
     are also optional; [...] 
   </blockquote>
   <h3 class="heading settled" data-level="8.3" id="proposed-bitset"><span class="secno">8.3. </span><span class="content">Class template <code class="highlight"><c- n>bitset</c-></code></span><a class="self-link" href="#proposed-bitset"></a></h3>
   <p>In subclause 22.9.2.1 [template.bitset.general], update the synopsis as follows:</p>
   <blockquote>
<pre class="highlight">    <c- c1>// [bitset.cons], constructors</c->
    <c- k>constexpr</c-> <c- n>bitset</c-><c- p>()</c-> <c- k>noexcept</c-><c- p>;</c->
<del>    <c- k>constexpr</c-> <c- n>bitset</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>val</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>;</c-></del>
<ins>    <c- k>constexpr</c-> <c- n>bitset</c-><c- p>(</c-><i><c- b>unsigned</c-><c- o>-</c-><c- n>integer</c-><c- o>-</c-><c- n>least</c-><c- o>-</c-><c- n>llong</c-></i> <c- n>val</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>;</c-></ins>
<c- p>[...]</c->
    <c- k>constexpr</c-> <c- b>unsigned</c-> <c- b>long</c->        <c- n>to_ulong</c-><c- p>()</c-> <c- k>const</c-><c- p>;</c->
    <c- k>constexpr</c-> <c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c->   <c- nf>to_ullong</c-><c- p>()</c-> <c- k>const</c-><c- p>;</c->
<ins>    <c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- o>></c->
      <c- k>constexpr</c-> <c- n>T</c-> <c- n>to</c-><c- p>()</c-> <c- k>const</c-><c- p>;</c-></ins>
</pre>
   </blockquote>
   <p>In subclause 22.9.2.2 [template.bitset.const], update the constructors as follows:</p>
   <blockquote>
<pre class="highlight"><del><c- k>constexpr</c-> <c- n>bitset</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>val</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>;</c-></del>
<ins><c- k>constexpr</c-> <c- n>bitset</c-><c- p>(</c-><i><c- b>unsigned</c-><c- o>-</c-><c- n>integer</c-><c- o>-</c-><c- n>least</c-><c- o>-</c-><c- n>llong</c-></i> <c- n>val</c-><c- p>)</c-> <c- k>noexcept</c-><c- p>;</c-></ins>
</pre>
    <p class="indent">
     <ins>The implementation provides one overload for every unsigned integer type whose
conversion rank is that of <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></code> or greater.</ins>
    </p>
    <p class="indent">
      <em>Effects</em>: Initializes the first <code class="highlight"><c- n>M</c-></code> bit positions to the corresponding bit values in val. <code class="highlight"><c- n>M</c-></code> is the smaller of <code class="highlight"><c- n>N</c-></code> and the number of bits in the value representation
([basic.types.general]) of 
     <del><code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></code></del>
     <ins>the type of <code class="highlight"><c- n>val</c-></code></ins>
     .
If <code class="highlight"><c- n>M</c-> <c- o>&lt;</c-> <c- n>N</c-></code>, the remaining bit positions are initialized to zero. 
    </p>
   </blockquote>
   <p class="note" role="note"><span class="marker">Note:</span> It is possible that <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></code> is the same type
as <code class="highlight"><c- n>uint_least128_t</c-></code>, so the mandate is necessary to prevent a duplicate definition.</p>
   <p>In subclause 22.9.2.3 [bitset.members], make the following changes:</p>
   <blockquote>
<pre class="highlight"><del><c- k>constexpr</c-> <c- b>unsigned</c-> <c- b>long</c-> <c- nf>to_ulong</c-><c- p>()</c-> <c- k>const</c-><c- p>;</c-></del>
</pre>
    <p class="indent">
     <del><em>Returns</em>: <code class="highlight"><c- n>x</c-></code>.</del>
    </p>
    <p class="indent">
     <del><em>Throws</em>: <code class="highlight"><c- n>overflow_error</c-></code> if the integral value <code class="highlight"><c- n>x</c-></code> corresponding to the bits in <code class="highlight"><c- o>*</c-><c- k>this</c-></code> cannot be represented as type <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-></code>.</del>
    </p>
<pre class="highlight"><del><c- k>constexpr</c-> <c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- nf>to_ullong</c-><c- p>()</c-> <c- k>const</c-><c- p>;</c-></del>
<ins><c- k>constexpr</c-> <c- b>unsigned</c-> <c- b>long</c->      <c- nf>to_ulong</c-><c- p>()</c-> <c- k>const</c-><c- p>;</c-></ins>
<ins><c- k>constexpr</c-> <c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- nf>to_ullong</c-><c- p>()</c-> <c- k>const</c-><c- p>;</c-></ins>
<ins><c- k>template</c-><c- o>&lt;</c-><c- k>class</c-> <c- nc>T</c-><c- o>></c->
<ins>  <c- k>constexpr</c-> <c- n>T</c-> <c- n>to</c-><c- p>()</c-> <c- k>const</c-><c- p>;</c-></ins>
</ins></pre>
    <p class="indent">
     <ins><em>Constraints</em>: <code class="highlight"><c- n>T</c-></code> is an unsigned integer type ([basic.fundamental]).</ins>
    </p>
    <p class="indent"> <em>Returns</em>: <code class="highlight"><c- n>x</c-></code>. </p>
    <p class="indent">
      <em>Throws</em>: <code class="highlight"><c- n>overflow_error</c-></code> if the integral value <code class="highlight"><c- n>x</c-></code> corresponding to the bits in <code class="highlight"><c- o>*</c-><c- k>this</c-></code> cannot be represented as 
     <del>type <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></code></del>
     <ins>the return type</ins>
     . 
    </p>
   </blockquote>
   <h3 class="heading settled" data-level="8.4" id="proposed-numeric-conversions"><span class="secno">8.4. </span><span class="content">Numeric conversions</span><a class="self-link" href="#proposed-numeric-conversions"></a></h3>
   <p>Wording for <code class="highlight"><c- n>to_string</c-></code> requires no changes after <a data-link-type="biblio" href="#biblio-schultke1" title="Better, constexpr to_string">[Schultke1]</a>.
However, should those changes not be accepted,
update subclause 23.4.2 [string.syn] as follows:</p>
   <blockquote>
<pre class="highlight"><del>
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>int</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>unsigned</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>long</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>long</c-> <c- b>long</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- n>int_least128_t</c-><c- p>);</c-></del>
<ins>  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><i><c- n>integer</c-><c- o>-</c-><c- n>least</c-><c- o>-</c-><c- b>int</c-></i> <c- n>val</c-><c- p>);</c-></ins>
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>float</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>double</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>long</c-> <c- b>double</c-> <c- n>val</c-><c- p>);</c->
</pre>
   </blockquote>
   <p>Under the same condition, in subclause 23.4.5 [string.conversions], update <code class="highlight"><c- n>to_string</c-></code>:</p>
   <blockquote>
<pre class="highlight"><del>  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>int</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>unsigned</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>long</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>long</c-> <c- b>long</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>val</c-><c- p>);</c-></del>
<ins>  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><i><c- n>integer</c-><c- o>-</c-><c- n>least</c-><c- o>-</c-><c- b>int</c-></i> <c- n>val</c-><c- p>);</c-></ins>
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>float</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>double</c-> <c- n>val</c-><c- p>);</c->
  <c- n>string</c-> <c- nf>to_string</c-><c- p>(</c-><c- b>long</c-> <c- b>double</c-> <c- n>val</c-><c- p>);</c->
</pre>
    <p class="indent">
     <ins>The implementation provides one overload for every integer type whose
conversion rank is that of <code class="highlight"><c- b>int</c-></code> or greater.</ins>
    </p>
    <p class="indent"> <em>Returns</em>: <code class="highlight"><c- n>format</c-><c- p>(</c-><c- s>"{}"</c-><c- p>,</c-> <c- n>val</c-><c- p>)</c-></code>. </p>
   </blockquote>
   <h3 class="heading settled" data-level="8.5" id="proposed-iota"><span class="secno">8.5. </span><span class="content">Iota view</span><a class="self-link" href="#proposed-iota"></a></h3>
   <p>In subclause 26.6.4.2 [ranges.iota.view], update paragraph 1 as follows:</p>
   <blockquote>
     Let <code class="highlight"><i><c- n>IOTA</c-><c- o>-</c-><c- n>DIFF</c-><c- o>-</c-><c- n>T</c-><c- p>(</c-><c- n>W</c-><c- p>)</c-></i></code> be defined as follows: 
    <ul>
     <li data-md>
      <p>If <code class="highlight"><c- n>W</c-></code> is not an integral type, or if it is an integral type and <code class="highlight"><c- k>sizeof</c-><c- p>(</c-><c- n>iter_difference_t</c-><c- o>&lt;</c-><c- n>W</c-><c- o>></c-><c- p>)</c-></code> is greater than <code class="highlight"><c- k>sizeof</c-><c- p>(</c-><c- n>W</c-><c- p>)</c-></code>, then <code class="highlight"><i><c- n>IOTA</c-><c- o>-</c-><c- n>DIFF</c-><c- o>-</c-><c- n>T</c-><c- p>(</c-><c- n>W</c-><c- p>)</c-></i></code> denotes <code class="highlight"><c- n>iter_difference_t</c-><c- o>&lt;</c-><c- n>W</c-><c- o>></c-></code>.</p>
     <li data-md>
      <p>
       Otherwise, <code class="highlight"><i><c- n>IOTA</c-><c- o>-</c-><c- n>DIFF</c-><c- o>-</c-><c- n>T</c-><c- p>(</c-><c- n>W</c-><c- p>)</c-></i></code> is a signed 
       <ins>standard</ins>
        integer type of width greater than the width of <code class="highlight"><c- n>W</c-></code> if such a type exists.
      </p>
     <li data-md>
      <p>Otherwise, <code class="highlight"><i><c- n>IOTA</c-><c- o>-</c-><c- n>DIFF</c-><c- o>-</c-><c- n>T</c-><c- p>(</c-><c- n>W</c-><c- p>)</c-></i></code> is an unspecified signed-integer-like type ([iterator.concept.winc]) of width not less than the width of <code class="highlight"><c- n>W</c-></code>. <br>[<em>Note</em> 1: It is unspecified whether this type satisfies <code class="highlight"><c- n>weakly_incrementable</c-></code>.
— <em>end note</em>]</p>
    </ul>
   </blockquote>
   <p class="note" role="note"><span class="marker">Note:</span> This change resolves the potential ABI break explained in <a href="#iota-view-abi-break">§ 4.2 ABI break for std::ranges::iota_view::iterator::difference_type</a>.
This change purely increases implementor freedom.
An extended integer type still models signed-integer-like, so GCC’s existing implementation
using <code class="highlight"><c- b>__int128</c-></code> remains valid.
However, a wider extended integer type is no longer the mandatory difference type (if it exists)
as per the second bullet.</p>
   <h3 class="heading settled" data-level="8.6" id="proposed-abs"><span class="secno">8.6. </span><span class="content">Absolute values</span><a class="self-link" href="#proposed-abs"></a></h3>
   <p>In subclause 28.7.1 [cmath.syn], update the synopsis as follows:</p>
   <blockquote>
<pre class="highlight">  <c- c1>// [c.math.abs], absolute values</c->
<del>  <c- k>constexpr</c-> <c- b>int</c-> <c- nf>abs</c-><c- p>(</c-><c- b>int</c-> <c- n>j</c-><c- p>);</c->                                         <c- c1>// freestanding</c->
  <c- k>constexpr</c-> <c- b>long</c-> <c- b>int</c-> <c- nf>abs</c-><c- p>(</c-><c- b>long</c-> <c- b>int</c-> <c- n>j</c-><c- p>);</c->                               <c- c1>// freestanding</c->
  <c- k>constexpr</c-> <c- b>long</c-> <c- b>long</c-> <c- b>int</c-> <c- nf>abs</c-><c- p>(</c-><c- b>long</c-> <c- b>long</c-> <c- b>int</c-> <c- n>j</c-><c- p>);</c->                     <c- c1>// freestanding</c-></del>
<ins>  <c- k>constexpr</c-> <c- k>auto</c-> <c- n>abs</c-><c- p>(</c-><i><c- b>signed</c-><c- o>-</c-><c- n>integer</c-><c- o>-</c-><c- n>least</c-><c- o>-</c-><c- b>int</c-></i> <c- n>j</c-><c- p>)</c-> <c- o>-></c-> <c- k>decltype</c-><c- p>(</c-><c- n>j</c-><c- p>);</c->    <c- c1>// freestanding</c-></ins>
  <c- k>constexpr</c-> <i><c- n>floating</c-><c- o>-</c-><c- n>point</c-><c- o>-</c-><c- n>type</c-></i> <c- n>abs</c-><c- p>(</c-><i><c- n>floating</c-><c- o>-</c-><c- n>point</c-><c- o>-</c-><c- n>type</c-></i> <c- n>j</c-><c- p>);</c->         <c- c1>// freestanding-deleted</c->
</pre>
   </blockquote>
   <p>In subclause 28.7.2 [c.math.abs], make the following changes:</p>
   <blockquote>
<pre class="highlight"><del><c- k>constexpr</c-> <c- b>int</c-> <c- nf>abs</c-><c- p>(</c-><c- b>int</c-> <c- n>j</c-><c- p>);</c->
<c- k>constexpr</c-> <c- b>long</c-> <c- b>int</c-> <c- nf>abs</c-><c- p>(</c-><c- b>long</c-> <c- b>int</c-> <c- n>j</c-><c- p>);</c->
<c- k>constexpr</c-> <c- b>long</c-> <c- b>long</c-> <c- b>int</c-> <c- nf>abs</c-><c- p>(</c-><c- b>long</c-> <c- b>long</c-> <c- b>int</c-> <c- n>j</c-><c- p>);</c-></del>
<ins><c- k>constexpr</c-> <c- k>auto</c-> <c- n>abs</c-><c- p>(</c-><i><c- b>signed</c-><c- o>-</c-><c- n>integer</c-><c- o>-</c-><c- n>least</c-><c- o>-</c-><c- b>int</c-></i> <c- n>j</c-><c- p>)</c-> <c- o>-></c-> <c- k>decltype</c-><c- p>(</c-><c- n>j</c-><c- p>);</c-></ins>
</pre>
    <p class="indent">
     <ins>The implementation provides one overload for every signed integer type whose
conversion rank is that of <code class="highlight"><c- b>int</c-></code> or greater.</ins>
    </p>
    <p class="indent">
     <del><em>Effects</em>: These functions have the semantics specified in the C standard library for the functions <code class="highlight"><c- n>abs</c-></code>, <code class="highlight"><c- n>labs</c-></code>, and <code class="highlight"><c- n>llabs</c-></code>, respectively.</del>
     <ins><em>Returns</em>: <code class="highlight"><c- n>j</c-> <c- o>>=</c-> <c- mi>0</c-> <c- o>?</c-> <c- n>j</c-> <c- o>:</c-> <c- o>-</c-><c- n>j</c-><c- p>;</c-></code>. </ins>
    </p>
   </blockquote>
   <h3 class="heading settled" data-level="8.7" id="proposed-atomic"><span class="secno">8.7. </span><span class="content">Atomic operations</span><a class="self-link" href="#proposed-atomic"></a></h3>
   <p>In subclause 33.5.2 [atomics.syn], update the synopsis as follows:</p>
   <blockquote>
<pre class="highlight"><c- c1>// all freestanding</c->
<c- k>namespace</c-> <c- nn>std</c-> <c- p>{</c->
  <c- p>[...]</c->

  <c- k>using</c-> <c- n>atomic_int8_t</c->         <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int8_t</c-><c- o>></c-><c- p>;</c->           <c- c1>// freestanding</c->
  <c- k>using</c-> <c- n>atomic_uint8_t</c->        <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint8_t</c-><c- o>></c-><c- p>;</c->          <c- c1>// freestanding</c->
  <c- k>using</c-> <c- n>atomic_int16_t</c->        <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int16_t</c-><c- o>></c-><c- p>;</c->          <c- c1>// freestanding</c->
  <c- k>using</c-> <c- n>atomic_uint16_t</c->       <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint16_t</c-><c- o>></c-><c- p>;</c->         <c- c1>// freestanding</c->
  <c- k>using</c-> <c- n>atomic_int32_t</c->        <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int32_t</c-><c- o>></c-><c- p>;</c->          <c- c1>// freestanding</c->
  <c- k>using</c-> <c- n>atomic_uint32_t</c->       <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint32_t</c-><c- o>></c-><c- p>;</c->         <c- c1>// freestanding</c->
  <c- k>using</c-> <c- n>atomic_int64_t</c->        <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int64_t</c-><c- o>></c-><c- p>;</c->          <c- c1>// freestanding</c->
  <c- k>using</c-> <c- n>atomic_uint64_t</c->       <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint64_t</c-><c- o>></c-><c- p>;</c->         <c- c1>// freestanding</c->
<ins>  <c- k>using</c-> <c- n>atomic_int128_t</c->       <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- n>int128_t</c-><c- o>></c-><c- p>;</c->         <c- c1>// freestanding</c-></ins>
<ins>  <c- k>using</c-> <c- n>atomic_uint128_t</c->      <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- n>uint128_t</c-><c- o>></c-><c- p>;</c->        <c- c1>// freestanding</c-></ins>

  <c- k>using</c-> <c- b>atomic_int_least8_t</c->   <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int_least8_t</c-><c- o>></c-><c- p>;</c->     <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_uint_least8_t</c->  <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint_least8_t</c-><c- o>></c-><c- p>;</c->    <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_int_least16_t</c->  <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int_least16_t</c-><c- o>></c-><c- p>;</c->    <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_uint_least16_t</c-> <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint_least16_t</c-><c- o>></c-><c- p>;</c->   <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_int_least32_t</c->  <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int_least32_t</c-><c- o>></c-><c- p>;</c->    <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_uint_least32_t</c-> <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint_least32_t</c-><c- o>></c-><c- p>;</c->   <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_int_least64_t</c->  <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int_least64_t</c-><c- o>></c-><c- p>;</c->    <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_uint_least64_t</c-> <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint_least64_t</c-><c- o>></c-><c- p>;</c->   <c- c1>// freestanding</c->
<ins>  <c- k>using</c-> <c- n>atomic_int_least128_t</c->  <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- n>int_least128_t</c-><c- o>></c-><c- p>;</c->  <c- c1>// freestanding</c-></ins>
<ins>  <c- k>using</c-> <c- n>atomic_uint_least128_t</c-> <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- n>uint_least128_t</c-><c- o>></c-><c- p>;</c-> <c- c1>// freestanding</c-></ins>

  <c- k>using</c-> <c- b>atomic_int_fast8_t</c->    <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int_fast8_t</c-><c- o>></c-><c- p>;</c->      <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_uint_fast8_t</c->   <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint_fast8_t</c-><c- o>></c-><c- p>;</c->     <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_int_fast16_t</c->   <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int_fast16_t</c-><c- o>></c-><c- p>;</c->     <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_uint_fast16_t</c->  <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint_fast16_t</c-><c- o>></c-><c- p>;</c->    <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_int_fast32_t</c->   <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int_fast32_t</c-><c- o>></c-><c- p>;</c->     <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_uint_fast32_t</c->  <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint_fast32_t</c-><c- o>></c-><c- p>;</c->    <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_int_fast64_t</c->   <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>int_fast64_t</c-><c- o>></c-><c- p>;</c->     <c- c1>// freestanding</c->
  <c- k>using</c-> <c- b>atomic_uint_fast64_t</c->  <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- b>uint_fast64_t</c-><c- o>></c-><c- p>;</c->    <c- c1>// freestanding</c->
<ins>  <c- k>using</c-> <c- n>atomic_int_fast128_t</c->  <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- n>int_fast128_t</c-><c- o>></c-><c- p>;</c->    <c- c1>// freestanding</c-></ins>
<ins>  <c- k>using</c-> <c- n>atomic_uint_fast128_t</c-> <c- o>=</c-> <c- n>atomic</c-><c- o>&lt;</c-><c- n>uint_fast128_t</c-><c- o>></c-><c- p>;</c->   <c- c1>// freestanding</c-></ins>

  <c- p>[...]</c->
<c- p>}</c->
</pre>
   </blockquote>
  </main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don't scroll to compensate for the ToC if we're above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don't know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn't exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn't standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don't have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we're at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can't find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-cxxdraft">[CxxDraft]
   <dd>VA. <a href="https://github.com/cplusplus/draft/commit/8238252bcec14f76e97133db32721beaec5c749b"><cite>C++ Standard Draft</cite></a>. URL: <a href="https://github.com/cplusplus/draft/commit/8238252bcec14f76e97133db32721beaec5c749b">https://github.com/cplusplus/draft/commit/8238252bcec14f76e97133db32721beaec5c749b</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-bitpermutations">[BitPermutations]
   <dd>Jan Schultke et al.. <a href="https://github.com/Eisenwave/cxx26-bit-permutations"><cite>C++26 Bit Permutations</cite></a>. URL: <a href="https://github.com/Eisenwave/cxx26-bit-permutations">https://github.com/Eisenwave/cxx26-bit-permutations</a>
   <dt id="biblio-dragonbox">[Dragonbox]
   <dd>Junekey Jeon. <a href="https://github.com/jk-jeon/dragonbox/blob/master/other_files/Dragonbox.pdf"><cite>Dragonbox: A New FLoating-Point Binary-to-Decimal Conversion Algorithm</cite></a>. URL: <a href="https://github.com/jk-jeon/dragonbox/blob/master/other_files/Dragonbox.pdf">https://github.com/jk-jeon/dragonbox/blob/master/other_files/Dragonbox.pdf</a>
   <dt id="biblio-fast_float">[FAST_FLOAT]
   <dd>Daniel Lemire et al.. <a href="https://github.com/fastfloat/fast_float"><cite>fast_float number parsing library: 4x faster than strtod</cite></a>. URL: <a href="https://github.com/fastfloat/fast_float">https://github.com/fastfloat/fast_float</a>
   <dt id="biblio-libdivide">[LIBDIVIDE]
   <dd>Kim Walisch et al.. <a href="https://github.com/ridiculousfish/libdivide"><cite>libdivide</cite></a>. URL: <a href="https://github.com/ridiculousfish/libdivide">https://github.com/ridiculousfish/libdivide</a>
   <dt id="biblio-marsaglia">[Marsaglia]
   <dd>George Marsaglia. <a href="https://www.jstatsoft.org/article/download/v008i14/916"><cite>Xorshift RNGs</cite></a>. URL: <a href="https://www.jstatsoft.org/article/download/v008i14/916">https://www.jstatsoft.org/article/download/v008i14/916</a>
   <dt id="biblio-n2680">[N2680]
   <dd>Robert C. Seacord. <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2680.pdf"><cite>Specific width length modifier</cite></a>. URL: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2680.pdf">https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2680.pdf</a>
   <dt id="biblio-n2763">[N2763]
   <dd>Aaron Ballman; et al. <a href="https://open-std.org/JTC1/SC22/WG14/www/docs/n2763.pdf"><cite>Adding a Fundamental Type for N-bit integers</cite></a>. URL: <a href="https://open-std.org/JTC1/SC22/WG14/www/docs/n2763.pdf">https://open-std.org/JTC1/SC22/WG14/www/docs/n2763.pdf</a>
   <dt id="biblio-n3047">[N3047]
   <dd>ISO. <a href="https://www.iso-9899.info/n3047.html"><cite>N3047 working draft — August 4, 2022 ISO/IEC 9899:2023 (E)</cite></a>. URL: <a href="https://www.iso-9899.info/n3047.html">https://www.iso-9899.info/n3047.html</a>
   <dt id="biblio-nvidia">[NVIDIA]
   <dd>Conor Hoekstra; Kuhu Shukla; Mark Harris. <a href="https://developer.nvidia.com/blog/implementing-high-precision-decimal-arithmetic-with-cuda-int128/"><cite>Implementing High-Precision Decimal Arithmetic with CUDA int128</cite></a>. URL: <a href="https://developer.nvidia.com/blog/implementing-high-precision-decimal-arithmetic-with-cuda-int128/">https://developer.nvidia.com/blog/implementing-high-precision-decimal-arithmetic-with-cuda-int128/</a>
   <dt id="biblio-p0543r3">[P0543R3]
   <dd>Jens Maurer. <a href="https://wg21.link/p0543r3"><cite>Saturation arithmetic</cite></a>. 19 July 2023. URL: <a href="https://wg21.link/p0543r3">https://wg21.link/p0543r3</a>
   <dt id="biblio-p1522r1">[P1522R1]
   <dd>Eric Niebler. <a href="https://wg21.link/p1522r1"><cite>Iterator Difference Type and Integer Overflow</cite></a>. 28 July 2019. URL: <a href="https://wg21.link/p1522r1">https://wg21.link/p1522r1</a>
   <dt id="biblio-p1673r13">[P1673R13]
   <dd>Mark Hoemmen, Daisy Hollman,Christian Trott,Daniel Sunderland,Nevin Liber,Alicia KlinvexLi-Ta Lo,Damien Lebrun-Grandie,Graham Lopez,Peter Caday,Sarah Knepper,Piotr Luszczek,Timothy Costa. <a href="https://wg21.link/p1673r13"><cite>A free function linear algebra interface based on the BLAS</cite></a>. 18 December 2023. URL: <a href="https://wg21.link/p1673r13">https://wg21.link/p1673r13</a>
   <dt id="biblio-p3018r0">[P3018R0]
   <dd>Andreas Weis. <a href="https://wg21.link/p3018r0"><cite>Low-Level Integer Arithmetic</cite></a>. 15 October 2023. URL: <a href="https://wg21.link/p3018r0">https://wg21.link/p3018r0</a>
   <dt id="biblio-risc-v">[RISC-V]
   <dd>VA. <a href="https://drive.google.com/file/d/1s0lZxUZaa7eV_O0_WsZzaurFLLww7ou5/view"><cite>The RISC-V Instruction Set Manual - Volume I: Unprivileged ISA</cite></a>. URL: <a href="https://drive.google.com/file/d/1s0lZxUZaa7eV_O0_WsZzaurFLLww7ou5/view">https://drive.google.com/file/d/1s0lZxUZaa7eV_O0_WsZzaurFLLww7ou5/view</a>
   <dt id="biblio-schultke1">[Schultke1]
   <dd>Jan Schultke. <a href="https://eisenwave.github.io/cpp-proposals/constexpr-to-string.html"><cite>Better, constexpr to_string</cite></a>. URL: <a href="https://eisenwave.github.io/cpp-proposals/constexpr-to-string.html">https://eisenwave.github.io/cpp-proposals/constexpr-to-string.html</a>
   <dt id="biblio-sec">[SEC]
   <dd>U.S. Securities and Exchange Commission. <a href="https://www.sec.gov/divisions/marketreg/subpenny612faq.htm"><cite>Division of Market Regulation: Responses to Frequently Asked Questions Concerning Rule 612 (Minimum Pricing Increment) of Regulation NMS</cite></a>. URL: <a href="https://www.sec.gov/divisions/marketreg/subpenny612faq.htm">https://www.sec.gov/divisions/marketreg/subpenny612faq.htm</a>
   <dt id="biblio-tigerbeetle">[TigerBeetle]
   <dd>Rafael Batiati. <a href="https://tigerbeetle.com/blog/2023-09-19-64-bit-bank-balances-ought-to-be-enough-for-anybody/"><cite>64-Bit Bank Balances ‘Ought to be Enough for Anybody’?</cite></a>. URL: <a href="https://tigerbeetle.com/blog/2023-09-19-64-bit-bank-balances-ought-to-be-enough-for-anybody/">https://tigerbeetle.com/blog/2023-09-19-64-bit-bank-balances-ought-to-be-enough-for-anybody/</a>
   <dt id="biblio-wikipedia">[Wikipedia]
   <dd>VA. <a href="https://en.wikipedia.org/wiki/Quadruple-precision_floating-point_format#Hardware_support"><cite>Quadruple-precision floating-point format - Hardware support</cite></a>. URL: <a href="https://en.wikipedia.org/wiki/Quadruple-precision_floating-point_format#Hardware_support">https://en.wikipedia.org/wiki/Quadruple-precision_floating-point_format#Hardware_support</a>
  </dl>